{"version":3,"sources":["features/productDetails/Rating.module.scss","features/productDetails/SidePanel.module.scss","features/productDetails/BuyBtn.module.scss","features/productDetails/ProductDetails.module.scss","assets/svg/StarIcon.tsx","features/productDetails/Rating.tsx","features/productDetails/SidePanel.tsx","features/productDetails/BuyBtn.tsx","features/productDetails/ProductDetails.tsx","pages/productPage/ProductPage.tsx"],"names":["module","exports","StarIcon","id","xmlns","viewBox","width","height","style","display","strokeLinecap","strokeLinejoin","strokeWidth","d","flexColumn","styles","numberRating","starIcon","starFilled","wrapper","Rating","isSidePanel","rating","useState","ratingStarsArr","setRatingStarsArr","checkSidePanel","useEffect","maxRating","starsCount","scaledRating","Math","ceil","arr","i","starFill","push","className","href","fillRatingStars","Number","value","maxValue","content","header","headerContent","headerContentWrapper","showPanel","iChevronLeft","SidePanel","product","dispatch","useAppDispatch","isVisible","useAppSelector","selectShowSidePanel","selectSidePanelContent","title","subtitle","body","checkShowPanel","onClick","setShowSidePanel","ChevronLeft","price","toCartBtn","toCartWrapper","BuyBtn","cartCtx","useContext","CartContext","addToCart","CartIcon","strokeColor","ellipsis","indent","picture","productInfo","productRating","productDescription","section","sectionContent","sidePanelArrow","ProductDetails","location","currWidth","useWidth","state","cover","covers","get","small","medium","showSidePanel","params","setSidePanelContent","src","alt","author","firstName","lastName","ChevronRight","description","ProductPage","MainLayout"],"mappings":"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","file":"static/js/9.ecdaa0f5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Rating_wrapper__2xAlP\",\"flexColumn\":\"Rating_flexColumn__ZsV-4\",\"starIcon\":\"Rating_starIcon__34QnL\",\"starFilled\":\"Rating_starFilled__3JwHc\",\"numberRating\":\"Rating_numberRating__evHoV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SidePanel_wrapper__3hi1k\",\"content\":\"SidePanel_content__hopF_\",\"header\":\"SidePanel_header__2p6iJ\",\"iChevronLeft\":\"SidePanel_iChevronLeft__1eaHm\",\"headerContentWrapper\":\"SidePanel_headerContentWrapper__35Wgn\",\"headerContent\":\"SidePanel_headerContent__q8EYt\",\"showPanel\":\"SidePanel_showPanel__2miS4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toCartWrapper\":\"BuyBtn_toCartWrapper__23OUv\",\"toCartBtn\":\"BuyBtn_toCartBtn__1YW1H\",\"price\":\"BuyBtn_price__2bM_4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ProductDetails_wrapper__G6vbo\",\"section\":\"ProductDetails_section__y_D4S\",\"sectionContent\":\"ProductDetails_sectionContent__21mTj\",\"ellipsis\":\"ProductDetails_ellipsis__1FU2C\",\"indent\":\"ProductDetails_indent__o1Z87\",\"sidePanelArrow\":\"ProductDetails_sidePanelArrow__SDpXE\",\"picture\":\"ProductDetails_picture__12AjO\",\"productInfo\":\"ProductDetails_productInfo__rOg6W\",\"productRating\":\"ProductDetails_productRating__BZnxv\",\"productDescription\":\"ProductDetails_productDescription__31ATy\"};","export interface StarIconProps {\r\n\r\n}\r\n\r\nconst StarIcon: React.FC<StarIconProps> = () => {\r\n  return (\r\n    <svg id=\"i-star\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" style={{ display: 'none' }}>\r\n      <symbol id=\"star\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"0.5\" d=\"M16 2 L20 12 30 12 22 19 25 30 16 23 7 30 10 19 2 12 12 12 Z\" />\r\n      </symbol>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default StarIcon;","import { useState, useEffect } from 'react';\r\nimport { ProductModel } from '../../types/types';\r\nimport StarIcon from '../../assets/svg/StarIcon';\r\nimport styles from './Rating.module.scss';\r\n\r\nconst { flexColumn, numberRating, starIcon, starFilled, wrapper } = styles;\r\n\r\ninterface RatingProps {\r\n  isSidePanel: boolean,\r\n  rating: ProductModel['rating'],\r\n}\r\n\r\nexport const Rating: React.FC<RatingProps> = ({ isSidePanel, rating }) => {\r\n  const [ratingStarsArr, setRatingStarsArr] = useState<JSX.Element[]>([]);\r\n  //const product = useAppSelector(selectProduct);\r\n  const checkSidePanel = isSidePanel ? flexColumn : null;\r\n\r\n  //scaling rating system to stars count and filling them with color\r\n  const fillRatingStars = (rating: number, maxRating: number, starsCount: number) => {\r\n    const scaledRating = Math.ceil(rating / maxRating * starsCount);\r\n    const arr = [];\r\n\r\n    for (let i = 1; i <= starsCount; i++) {\r\n      const starFill = i <= scaledRating ? starFilled : null;\r\n      arr.push(\r\n        <svg className={`${starIcon} ${starFill}`} key={i}>\r\n          <use href=\"#star\" />\r\n        </svg>)\r\n    }\r\n    setRatingStarsArr(arr);\r\n  }\r\n\r\n  useEffect(() => {\r\n    fillRatingStars(Number(rating.value), Number(rating.maxValue), 5);\r\n  }, [])\r\n\r\n  return (\r\n    <div className={`${wrapper} ${checkSidePanel}`}>\r\n      <StarIcon />\r\n      <div className={numberRating}>{`${rating.value} / ${rating.maxValue}`}</div>\r\n      <span>{ratingStarsArr}</span>\r\n    </div>\r\n  )\r\n}","import { useAppSelector, useAppDispatch } from '../../types/hooks';\r\n\r\nimport { selectShowSidePanel, selectSidePanelContent } from './productDetailsSlice';\r\nimport { setShowSidePanel } from './productDetailsSlice';\r\n\r\nimport ChevronLeft from '../../assets/svg/ChevronLeft';\r\nimport { Rating } from './Rating';\r\nimport styles from './SidePanel.module.scss';\r\nimport { ProductModel } from '../../types/types';\r\n\r\nconst { content, header, headerContent, headerContentWrapper, showPanel, wrapper, iChevronLeft, } = styles;\r\n\r\ninterface SidePanelProps {\r\n  product: ProductModel,\r\n}\r\n\r\nexport const SidePanel: React.FC<SidePanelProps> = ({ product }) => {\r\n  const dispatch = useAppDispatch();\r\n  const isVisible = useAppSelector(selectShowSidePanel);\r\n  const { title, subtitle, body } = useAppSelector(selectSidePanelContent);\r\n\r\n  const checkShowPanel = isVisible ? showPanel : null;\r\n\r\n  const showSidePanel = () => {\r\n    dispatch(setShowSidePanel());\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className={`${header} ${checkShowPanel}`} >\r\n        <button className={iChevronLeft} onClick={showSidePanel}>\r\n          <ChevronLeft />\r\n        </button>\r\n        <div className={headerContentWrapper}>\r\n          <div className={headerContent} >\r\n            {title}\r\n          </div>\r\n          {subtitle && <div className={headerContent}>\r\n            {subtitle}\r\n          </div>}\r\n        </div>\r\n      </header>\r\n\r\n      {/* BODY */}\r\n      <div className={`${wrapper} ${checkShowPanel}`} >\r\n\r\n        <div className={content}>\r\n          {body === 'rating' ? <Rating isSidePanel={true} rating={product.rating} /> : body}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}","import { useContext } from 'react';\r\nimport CartContext from '../../contexts/cartContext';\r\n\r\nimport CartIcon from '../../assets/svg/CartIcon';\r\nimport styles from './BuyBtn.module.scss';\r\nimport { ProductModel } from '../../types/types';\r\n\r\n\r\nconst { price, toCartBtn, toCartWrapper } = styles;\r\n\r\nexport interface BuyBtnProps {\r\n  product: ProductModel\r\n}\r\n\r\nconst BuyBtn: React.FC<BuyBtnProps> = ({ product }) => {\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  return (<div className={toCartWrapper}>\r\n    <button className={toCartBtn} onClick={() => cartCtx.addToCart(product)}>\r\n      <CartIcon width={26} height={26} strokeColor='white' />\r\n    </button>\r\n    <div className={price}>{`${product?.price} z≈Ç`}</div>\r\n  </div>);\r\n}\r\n\r\nexport default BuyBtn;","import React from 'react';\r\nimport { useAppDispatch } from '../../types/hooks';\r\nimport useWidth from '../../hooks/useWidth';\r\n\r\nimport { setShowSidePanel, setSidePanelContent } from './productDetailsSlice';\r\n\r\nimport { ProductModel } from '../../types/types';\r\nimport covers from '../../assets/images'\r\nimport ChevronRight from '../../assets/svg/ChevronRight';\r\nimport { SidePanel } from './SidePanel';\r\nimport { Rating } from './Rating';\r\nimport BuyBtn from './BuyBtn';\r\nimport styles from './ProductDetails.module.scss';\r\n\r\nconst { ellipsis, indent, picture, productInfo, productRating, productDescription, section, sectionContent, sidePanelArrow, wrapper } = styles;\r\n\r\nconst ProductDetails: React.FC<{ location: any }> = ({ location }) => {\r\n  const dispatch = useAppDispatch();\r\n  const { currWidth } = useWidth();\r\n  const product: ProductModel = location.state.product;\r\n  const cover = covers.get(product?.cover) || { small: '', medium: '' };\r\n\r\n  const showSidePanel = (params: { title: string, subtitle: string | null, body: string }) => {\r\n    dispatch(setShowSidePanel());\r\n    dispatch(setSidePanelContent(params))\r\n  }\r\n\r\n\r\n  return <>\r\n    {product && currWidth < 950 ? <picture >\r\n      <img src={`${cover.medium}`} className={picture} alt=\"\" />\r\n    </picture> : null}\r\n\r\n    {<div className={wrapper}>\r\n\r\n      {currWidth >= 950 && <img src={`${cover.medium}`} className={picture} alt=\"\" />}\r\n\r\n      <BuyBtn product={product} />\r\n\r\n      <section className={`${section} ${productInfo}`}>\r\n        <h1>{product?.title}</h1>\r\n        <article className={sectionContent}>\r\n          <table>\r\n            <tbody>\r\n              <tr>\r\n                <td>Autor:</td>\r\n                <td>{`${product?.author.firstName} ${product?.author.lastName}`}</td>\r\n              </tr>\r\n              <tr>\r\n                <td>Wydawca:</td>\r\n                <td>WobClone</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </article>\r\n      </section>\r\n\r\n      {/* --- RATING --- */}\r\n      <section className={`${section} ${productRating}`}>\r\n        <h2>Ocena</h2>\r\n\r\n        {/*  SHOW SIDE PANEL BTN  */}\r\n        <button className={sidePanelArrow}\r\n          onClick={() => showSidePanel({\r\n            title: 'Ocena',\r\n            subtitle: null,\r\n            body: 'rating',\r\n          })}>\r\n\r\n          <ChevronRight />\r\n        </button>\r\n\r\n        <article className={`${sectionContent} ${indent}`}>\r\n          <h3>{product?.title}</h3>\r\n          {product && <Rating isSidePanel={false} rating={product.rating} />}\r\n        </article>\r\n\r\n      </section>\r\n\r\n      {/* --- DESCRIPTION --- */}\r\n      <section className={`${section} ${productDescription}`}>\r\n        <h2>Opis</h2>\r\n        {/*  SHOW SIDE PANEL BTN  */}\r\n        <button className={sidePanelArrow}\r\n          onClick={() => showSidePanel({\r\n            title: product.title,\r\n            subtitle: `${product.author.firstName} ${product.author.lastName}`,\r\n            body: product.description,\r\n          })}>\r\n\r\n          <ChevronRight />\r\n        </button>\r\n\r\n        <article className={`${sectionContent} ${indent} ${currWidth < 950 ? ellipsis : null}`}>\r\n          {product?.description}\r\n        </article>\r\n      </section>\r\n\r\n      {currWidth < 950 && <SidePanel product={product} />}\r\n    </div>\r\n    }\r\n  </>\r\n\r\n}\r\n\r\nexport default ProductDetails;","import MainLayout from \"../../layouts/mainLayout/MainLayout\";\r\nimport ProductDetails from \"../../features/productDetails/ProductDetails\";\r\n\r\nconst ProductPage: React.FC<{ location: any }> = ({ location }) => {\r\n  return (\r\n    <MainLayout>\r\n      <ProductDetails location={location} />\r\n    </MainLayout>\r\n  );\r\n}\r\n\r\nexport default ProductPage;"],"sourceRoot":""}