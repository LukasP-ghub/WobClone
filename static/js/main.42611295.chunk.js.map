{"version":3,"sources":["firebase.js","helpers/types/hooks.ts","commonComponents/loadingSpinner/LoadingSpinner.tsx","features/searcher/searcherSlice.ts","features/navigation/NavSidePanel.module.scss","helpers/useWidth.tsx","features/navigation/CategorySidePanel.module.scss","helpers/sorting.tsx","features/cart/Cart.module.scss","commonComponents/loadingSpinner/LoadingSpinner.module.scss","store/cartContext.tsx","store/AuthContext.tsx","features/navigation/NavComponent.module.scss","features/navigation/Navigation.module.scss","features/searcher/Searcher.module.scss","features/user/User.module.scss","commonComponents/logo/Logo.module.scss","features/catalog/catalogSlice.ts","features/productPage/productPageSlice.ts","assets/svg/CartIcon.tsx","assets/svg/CloseIcon.tsx","assets/svg/SearchIcon.tsx","features/slider/sliderSlice.ts","containers/Header.module.scss","commonComponents/backdrop/Backdrop.module.scss","containers/Main.module.scss","App.module.scss","containers/containerSlice.ts","features/cart/Cart.tsx","features/navigation/navigationSlice.ts","features/navigation/NavComponent.tsx","commonComponents/backdrop/Backdrop.tsx","features/navigation/NavSidePanel.tsx","features/navigation/CategorySidePanel.tsx","assets/svg/MenuIcon.tsx","features/navigation/Navigation.tsx","features/searcher/Searcher.tsx","assets/svg/UserIcon.tsx","features/user/User.tsx","commonComponents/logo/Logo.tsx","containers/Header.tsx","features/startPage/StartPage.tsx","containers/Main.tsx","commonComponents/privateRoute/PrivateRoute.tsx","App.tsx","commonComponents/productCard/productCardSlice.ts","store/store.ts","serviceWorker.js","index.tsx"],"names":["firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","useAppDispatch","useDispatch","useAppSelector","useSelector","wrapper","styles","spinner","dot","LoadingSpinner","dots","Array","fill","map","item","index","className","initialState","ebooks","searchResults","searchKey","showSearchBar","status","currentRequestId","undefined","error","fetchForSearch","createAsyncThunk","params","a","getState","requestId","searcher","output","collection","get","ebooksRef","forEach","doc","push","data","sorting","searcherSlice","createSlice","name","reducers","setSearchKey","state","action","payload","setSearchResults","setShowSearchBar","extraReducers","builder","addCase","pending","meta","fulfilled","rejected","selectEbooks","selectSearchKey","selectSearchResults","selectShowSearchBar","actions","module","exports","getWidth","window","innerWidth","useWidth","useState","currWidth","prevWidth","width","setWidth","useEffect","timeout","resizeListener","clearTimeout","setTimeout","prev","addEventListener","removeEventListener","sort","b","price","titleA","title","toUpperCase","titleB","CartContext","React","createContext","productsInCart","pricing","nominalPrice","actualPrice","totalDiscount","paymentMethod","currentPaymentStep","addToCart","removeFromCart","choosePaymentMethod","handlePaymentStep","CartContextProvider","props","setProductsInCart","setPaymentMethod","setPaymentStep","setPricing","contextValue","product","findIndex","element","id","prevArr","prevObj","Number","toFixed","productsInCartCopy","splice","option","direction","prevStep","Provider","value","children","AuthContext","currentUser","signUp","signIn","signOut","useAuth","useContext","AuthContextProvider","setCurrentUser","loading","setLoading","onAuthStateChanged","user","email","password","createUserWithEmailAndPassword","signInWithEmailAndPassword","filteredEbooks","filters","categoryFilter","promotion","showFilterOptions","showCategoriesPanel","fetchEbooks","catalog","getFilters","where","catalogSlice","setShowFilterOptions","setShowCategoriesPanel","setFilters","filter","sortEbooks","selectShowFilterOptions","selectShowCategoriesPanel","selectFilteredEbooks","selectFilters","selectError","selectCategories","container","categories","showSidePanel","sidePanelContent","subtitle","body","fetchProduct","productPage","productPageSlice","setShowSidePanel","setSidePanelContent","selectProduct","selectShowSidePanel","selectSidePanelContent","CartIcon","height","strokeColor","xmlns","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","cx","cy","r","CloseIcon","SearchIcon","fetchRandomEbooks","slider","IDarr","length","productsCount","randomID","Math","floor","random","includes","i","endIndex","IDarrPortion","slice","category","products","sliderSlice","selectProducts","popular","fetchCategories","categoriesRef","containerSlice","cartItemsCounter","cartItemsCounterWrapper","cartIcon","cartIconWrapper","Cart","cartCtx","to","navigationSlice","isVisibleNavSP","isVisibleCatSP","showNavSidePanel","showCatSidePanel","selectIsVisibleNavSP","navigation","selectIsVisibleCatSP","arrow","content","navComponent","NavComponent","onClick","onClickDesktop","extended","transDelay","style","transitionDelay","backdrop","Backdrop","header","linksContainer","productType","sidePanel","closeIcon","NavSidePanel","isVisible","isVisibleCat","dispatch","ShowError","lazy","categorySidePanel","headElement","CategoryPanel","fetchError","once","fallback","MenuIcon","Navigation","navIcon","navIconWrapper","SearchBar","searchIcon","searchWrapper","Searcher","UserIcon","userIcon","userIconWrapper","User","logo","logoWrapper","Logo","Header","Slider","StartPage","Catalog","ProductPage","mainPage","Main","path","exact","render","PrivateRoute","Component","component","rest","SignPage","CartPage","PaymentPage","App","app","productCardSlice","productTags","authorFirstName","authorLastName","setProductTags","rootReducer","combineReducers","containerReducer","navigationReducer","sliderReducer","searcherReducer","catalogReducer","productPageReducer","productCard","productCardReducer","store","configureStore","reducer","Boolean","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.42611295.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport 'firebase/firestore';\r\nimport \"firebase/auth\";\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyBcPWLW6D0lZqB-FyT0Fdtz1XUi0nhS2Zo\",\r\n  authDomain: \"wobclone-3d29b.firebaseapp.com\",\r\n  projectId: \"wobclone-3d29b\",\r\n  storageBucket: \"wobclone-3d29b.appspot.com\",\r\n  messagingSenderId: \"225553916464\",\r\n  appId: \"1:225553916464:web:55185a4c2423e19956c3f5\",\r\n  measurementId: \"G-RN8PBF6BH7\"\r\n\r\n})\r\n\r\n/*const firebaseApp = firebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n\r\n}) */\r\n\r\nexport const auth = firebaseApp.auth();\r\nexport const db = firebaseApp.firestore();\r\n\r\n\r\n/*\r\n apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n */","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\r\nimport type { RootState, AppDispatch } from '../../store/store'\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import styles from './LoadingSpinner.module.scss';\r\n\r\nconst { wrapper, spinner, dot } = styles;\r\n\r\nexport default function LoadingSpinner() {\r\n  const arr = new Array(12).fill('dot');\r\n  const dots = arr.map((item, index) => <div key={`${item}${index}`} className={`${dot} ${styles[`${item}${index + 1}`]}`}></div>)\r\n\r\n  return (\r\n    <div className={wrapper}>\r\n      <div className={spinner}>\r\n        {dots}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\nimport { db } from '../../firebase';\r\nimport { sorting } from '../../helpers/sorting';\r\nimport ProductModel from '../../helpers/types/ProductModel'\r\n\r\nexport interface SearchResultsPayload {\r\n  linkPathName: string;\r\n  linkContent: {\r\n    title: string | null;\r\n    authorFirstName: string;\r\n    authorLastName: string;\r\n  };\r\n  linkState: {\r\n    authorFirstName: string;\r\n    authorLastName: string;\r\n    title?: string;\r\n  };\r\n}\r\ninterface SearcherState {\r\n  ebooks: ProductModel[],\r\n  searchResults: SearchResultsPayload[] | [],\r\n  searchKey: string,\r\n  showSearchBar: boolean,\r\n  status: string,\r\n  currentRequestId: any,\r\n  error: any,\r\n}\r\n\r\nconst initialState: SearcherState = {\r\n  ebooks: [],\r\n  searchResults: [],\r\n  searchKey: '',\r\n  showSearchBar: false,\r\n  status: 'idle',\r\n  currentRequestId: undefined,\r\n  error: null,\r\n}\r\n\r\nexport const fetchForSearch = createAsyncThunk<any, any, { state: RootState }>(\r\n  'searchEbook/getDataStatus',\r\n  async (params: any, { getState, requestId }) => {\r\n    const { currentRequestId, status } = getState().searcher;\r\n    if (status !== 'pending' || requestId !== currentRequestId) {\r\n      return;\r\n    }\r\n\r\n    let output: any = [];\r\n    let ebooksRef = await db.collection(\"ebooks\").get();\r\n\r\n    await ebooksRef.forEach((doc) => {\r\n      output.push(doc.data());\r\n    });\r\n\r\n    output = sorting(output, 'alphabetical');\r\n    return output;\r\n  }\r\n)\r\n\r\n\r\n/* --- SLICE --- */\r\n\r\nexport const searcherSlice = createSlice({\r\n  name: 'searcher',\r\n  initialState,\r\n  reducers: {\r\n    setSearchKey: (state, action: PayloadAction<string>) => {\r\n      state.searchKey = action.payload;\r\n    },\r\n    setSearchResults: (state, action: PayloadAction<SearchResultsPayload[] | []>) => {\r\n      state.searchResults = action.payload;\r\n    },\r\n    setShowSearchBar: (state, action: PayloadAction<boolean | undefined>) => {\r\n      state.showSearchBar = action.payload ?? !state.showSearchBar;\r\n    }\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchForSearch.pending, (state, action) => {\r\n      if (state.status === 'idle') {\r\n        state.ebooks = [];\r\n        state.status = 'pending';\r\n        state.currentRequestId = action.meta.requestId;\r\n      }\r\n    })\r\n    builder.addCase(fetchForSearch.fulfilled, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.ebooks.push(...action.payload);\r\n        state.status = 'idle';\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n    builder.addCase(fetchForSearch.rejected, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.status = 'idle';\r\n        state.error = action.error;\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n  },\r\n});\r\n\r\n/* --- SELECTORS --- */\r\n\r\nexport const selectEbooks = (state: RootState) => state.searcher.ebooks;\r\nexport const selectSearchKey = (state: RootState) => state.searcher.searchKey;\r\nexport const selectSearchResults = (state: RootState) => state.searcher.searchResults;\r\nexport const selectShowSearchBar = (state: RootState) => state.searcher.showSearchBar;\r\nexport const selectError = (state: RootState) => state.searcher.error;\r\n\r\n/* --- EXPORTS --- */\r\n\r\nexport const { setSearchKey, setSearchResults, setShowSearchBar } = searcherSlice.actions;\r\nexport default searcherSlice.reducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidePanel\":\"NavSidePanel_sidePanel__2WuRQ\",\"header\":\"NavSidePanel_header__34ruN\",\"productType\":\"NavSidePanel_productType__Ihwbs\",\"closeIcon\":\"NavSidePanel_closeIcon__3VYMQ\",\"linksContainer\":\"NavSidePanel_linksContainer__3Mohh\",\"showSidePanel\":\"NavSidePanel_showSidePanel__1Co31\"};","import { useEffect, useState } from 'react';\r\n\r\ntype widthType = {\r\n  currWidth: number,\r\n  prevWidth: number\r\n}\r\n\r\nconst getWidth = () => window.innerWidth;\r\n\r\nconst useWidth = () => {\r\n  const [width, setWidth] = useState<widthType>({ currWidth: getWidth(), prevWidth: getWidth() });\r\n\r\n  useEffect(() => {\r\n    let timeout: any = null;\r\n\r\n    const resizeListener = () => {\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(() => {\r\n        setWidth((prev) => { return { currWidth: getWidth(), prevWidth: prev.currWidth } });\r\n      }, 100);\r\n    }\r\n\r\n    window.addEventListener('resize', resizeListener);\r\n    return () => {\r\n      window.removeEventListener('resize', resizeListener);\r\n    }\r\n  }, [])\r\n\r\n  return width;\r\n}\r\n\r\nexport default useWidth;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"categorySidePanel\":\"CategorySidePanel_categorySidePanel__14rSY\",\"linksContainer\":\"CategorySidePanel_linksContainer__2LAxY\",\"showSidePanel\":\"CategorySidePanel_showSidePanel__1uBO2\",\"headElement\":\"CategorySidePanel_headElement__-1-Dh\",\"content\":\"CategorySidePanel_content__22GNw\"};","import ProductModel from '../helpers/types/ProductModel';\r\n\r\nexport const sorting = (state: ProductModel[], action: string) => {\r\n\r\n  switch (action) {\r\n    case 'lower-price':\r\n      state = state.sort((a, b) => +a.price - +b.price);\r\n      break;\r\n    case 'higher-price':\r\n      state = state.sort((a, b) => +b.price - +a.price);\r\n      break;\r\n    default:\r\n      state = state.sort((a, b) => {\r\n        let titleA = a.title.toUpperCase();\r\n        let titleB = b.title.toUpperCase();\r\n        if (titleA < titleB) {\r\n          return -1;\r\n        }\r\n        if (titleA > titleB) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      });\r\n  }\r\n  return state;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartIconWrapper\":\"Cart_cartIconWrapper__3LNud\",\"cartIcon\":\"Cart_cartIcon__aB2CM\",\"cartItemsCounterWrapper\":\"Cart_cartItemsCounterWrapper__26U9m\",\"cartItemsCounter\":\"Cart_cartItemsCounter__3H1bi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"LoadingSpinner_wrapper__7Ti9f\",\"spinner\":\"LoadingSpinner_spinner__r0agJ\",\"dot\":\"LoadingSpinner_dot__15gmN\",\"animDot\":\"LoadingSpinner_animDot__2EC7b\",\"dot1\":\"LoadingSpinner_dot1__TfnHP\",\"dot2\":\"LoadingSpinner_dot2__3Mlr1\",\"dot3\":\"LoadingSpinner_dot3__3lg4M\",\"dot4\":\"LoadingSpinner_dot4__rB6PF\",\"dot5\":\"LoadingSpinner_dot5__Jpcru\",\"dot6\":\"LoadingSpinner_dot6__3HsTz\",\"dot7\":\"LoadingSpinner_dot7__3fcdC\",\"dot8\":\"LoadingSpinner_dot8__2D71U\",\"dot9\":\"LoadingSpinner_dot9__1-2Du\",\"dot10\":\"LoadingSpinner_dot10__3h-8H\",\"dot11\":\"LoadingSpinner_dot11__1Sm7B\",\"dot12\":\"LoadingSpinner_dot12__1lVzl\"};","import React, { useState } from 'react';\r\nimport ProductModel from '../helpers/types/ProductModel';\r\n\r\ntype pricingType = {\r\n  nominalPrice: number,\r\n  actualPrice: number,\r\n  totalDiscount: number,\r\n}\r\n\r\ntype ProductContextObj = {\r\n  productsInCart: ProductModel[],\r\n  pricing: pricingType,\r\n  paymentMethod: string,\r\n  currentPaymentStep: number,\r\n  addToCart: (product: ProductModel) => void,\r\n  removeFromCart: (id: number) => void,\r\n  choosePaymentMethod: (option: string) => void,\r\n  handlePaymentStep: (direction: 'next' | 'back') => void\r\n}\r\n\r\nconst CartContext = React.createContext<ProductContextObj>({\r\n  productsInCart: [],\r\n  pricing: {\r\n    nominalPrice: 0,\r\n    actualPrice: 0,\r\n    totalDiscount: 0,\r\n  },\r\n  paymentMethod: '',\r\n  currentPaymentStep: 0,\r\n  addToCart: () => { },\r\n  removeFromCart: () => { },\r\n  choosePaymentMethod: () => { },\r\n  handlePaymentStep: () => { },\r\n});\r\n\r\n\r\nexport const CartContextProvider: React.FC = (props) => {\r\n  const [productsInCart, setProductsInCart] = useState<ProductModel[]>([]);\r\n  const [paymentMethod, setPaymentMethod] = useState<string>('');\r\n  const [currentPaymentStep, setPaymentStep] = useState<number>(2);\r\n  const [pricing, setPricing] = useState<pricingType>({\r\n    nominalPrice: 0,\r\n    actualPrice: 0,\r\n    totalDiscount: 0,\r\n  });\r\n\r\n  const addToCart = (product: ProductModel) => {\r\n    if (productsInCart.findIndex((element) => element.id === product.id) === -1) {\r\n      setProductsInCart(prevArr => [...prevArr, product]);\r\n      setPricing(prevObj => ({\r\n        totalDiscount: 0,\r\n        nominalPrice: Number((prevObj.nominalPrice + Number(product.price)).toFixed(2)),\r\n        actualPrice: Number((prevObj.nominalPrice + Number(product.price)).toFixed(2)),\r\n      }))\r\n    }\r\n  }\r\n\r\n  const removeFromCart = (id: number) => {\r\n    const productsInCartCopy = [...productsInCart];\r\n    const index = productsInCartCopy.findIndex((element) => element.id === id);\r\n\r\n    if (index > -1) {\r\n      setPricing(prevObj => ({\r\n        totalDiscount: 0,\r\n        nominalPrice: Number((prevObj.nominalPrice - Number(productsInCartCopy[index].price)).toFixed(2)),\r\n        actualPrice: Number((prevObj.nominalPrice - Number(productsInCartCopy[index].price)).toFixed(2)),\r\n      }))\r\n      productsInCartCopy.splice(index, 1);\r\n      setProductsInCart([...productsInCartCopy]);\r\n    }\r\n  }\r\n\r\n  const choosePaymentMethod = (option: string) => {\r\n    setPaymentMethod(option);\r\n  }\r\n\r\n  const handlePaymentStep = (direction: 'next' | 'back') => {\r\n    switch (direction) {\r\n      case 'next': setPaymentStep(prevStep => ++prevStep);\r\n        break;\r\n      case 'back': setPaymentStep(prevStep => --prevStep);\r\n    }\r\n\r\n  }\r\n\r\n  const contextValue: ProductContextObj = {\r\n    productsInCart: productsInCart,\r\n    pricing: pricing,\r\n    paymentMethod: paymentMethod,\r\n    currentPaymentStep: currentPaymentStep,\r\n    addToCart: addToCart,\r\n    removeFromCart: removeFromCart,\r\n    choosePaymentMethod: choosePaymentMethod,\r\n    handlePaymentStep: handlePaymentStep,\r\n  }\r\n\r\n  return <CartContext.Provider value={contextValue}>\r\n    {props.children}\r\n  </CartContext.Provider>\r\n}\r\n\r\nexport default CartContext;","import React, { useContext, useState, useEffect } from 'react';\r\nimport { auth } from '../firebase';\r\n\r\ninterface AuthContextProviderProps {\r\n\r\n}\r\n\r\ninterface contextType {\r\n  currentUser: any,\r\n  signUp: (email: string, password: string) => Promise<any>,\r\n  signIn: (email: string, password: string) => Promise<any>,\r\n  signOut: () => Promise<any>,\r\n}\r\n\r\nconst AuthContext = React.createContext<contextType>({\r\n  currentUser: null,\r\n  signUp: async () => { },\r\n  signIn: async () => { },\r\n  signOut: async () => { },\r\n});\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport const AuthContextProvider: React.FC<AuthContextProviderProps> = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState<any>();\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n\r\n  const signUp = (email: string, password: string) => {\r\n    return auth.createUserWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  const signIn = (email: string, password: string) => {\r\n    return auth.signInWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  const signOut = () => {\r\n    return auth.signOut();\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user);\r\n      setLoading(false);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [])\r\n\r\n\r\n\r\n  const contextValue: contextType = {\r\n    currentUser,\r\n    signUp,\r\n    signIn,\r\n    signOut,\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navComponent\":\"NavComponent_navComponent__1TAg2\",\"arrow\":\"NavComponent_arrow__2C6hE\",\"content\":\"NavComponent_content__2UaJk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navIconWrapper\":\"Navigation_navIconWrapper__3uCoA\",\"navIcon\":\"Navigation_navIcon__2SE8w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchWrapper\":\"Searcher_searchWrapper__3q5LK\",\"searchIcon\":\"Searcher_searchIcon__rBeEM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userIconWrapper\":\"User_userIconWrapper__3SDOM\",\"userIcon\":\"User_userIcon__1uMBc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoWrapper\":\"Logo_logoWrapper__2IZby\",\"logo\":\"Logo_logo__3mC7m\"};","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\nimport { db } from '../../firebase';\r\nimport { sorting } from '../../helpers/sorting';\r\nimport ProductModel from '../../helpers/types/ProductModel';\r\n\r\ninterface setFiltersType {\r\n  filter: string,\r\n  value: string\r\n}\r\n\r\ninterface catalogState {\r\n  filteredEbooks: ProductModel[],\r\n  filters: {\r\n    categoryFilter: string,\r\n    promotion: 'true' | '',\r\n    [key: string]: string\r\n  },\r\n  showFilterOptions: boolean,\r\n  showCategoriesPanel: boolean,\r\n  error: any,\r\n  status: string,\r\n  currentRequestId: any,\r\n}\r\n\r\nconst initialState: catalogState = {\r\n  filteredEbooks: [],\r\n  filters: {\r\n    categoryFilter: '',\r\n    promotion: '',\r\n  },\r\n  showFilterOptions: false,\r\n  showCategoriesPanel: false,\r\n  error: null,\r\n  status: 'idle',\r\n  currentRequestId: undefined,\r\n}\r\n\r\nexport const fetchEbooks = createAsyncThunk<any, any, { state: RootState }>(\r\n  'ebooks/getDataStatus',\r\n  async (params: any, { getState, requestId }) => {\r\n    const { currentRequestId, status } = getState().catalog;\r\n    const getFilters = getState().catalog.filters;\r\n\r\n    if (status !== 'pending' || requestId !== currentRequestId) {\r\n      return;\r\n    }\r\n\r\n    let output: any = [];\r\n    let ebooksRef;\r\n\r\n    if (getFilters.categoryFilter === 'Wszystkie Ebooki') {\r\n      ebooksRef = await db.collection(\"ebooks\").get();\r\n    } else {\r\n      ebooksRef = await db.collection(\"ebooks\").where(\"category\", \"==\", getFilters.categoryFilter).get();\r\n    }\r\n\r\n    await ebooksRef.forEach((doc) => {\r\n      output.push(doc.data());\r\n    });\r\n\r\n    output = sorting(output, 'alphabetical');\r\n    return output;\r\n  }\r\n)\r\n\r\n/* --- SLICE --- */\r\n\r\nexport const catalogSlice = createSlice({\r\n  name: 'catalog',\r\n  initialState,\r\n  reducers: {\r\n    setShowFilterOptions: (state) => {\r\n      state.showFilterOptions = !state.showFilterOptions;\r\n    },\r\n    setShowCategoriesPanel: (state) => {\r\n      state.showCategoriesPanel = !state.showCategoriesPanel;\r\n    },\r\n    setFilters: (state, action: PayloadAction<setFiltersType>) => {\r\n      state.filters[action.payload.filter] = action.payload.value;\r\n    },\r\n    sortEbooks: (state, action) => {\r\n      state.filteredEbooks = sorting(state.filteredEbooks, action.payload);\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchEbooks.pending, (state, action) => {\r\n      if (state.status === 'idle') {\r\n        state.filteredEbooks = [];\r\n        state.status = 'pending';\r\n        state.currentRequestId = action.meta.requestId;\r\n      }\r\n    })\r\n    builder.addCase(fetchEbooks.fulfilled, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.filteredEbooks.push(...action.payload);\r\n        state.status = 'idle';\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n    builder.addCase(fetchEbooks.rejected, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.status = 'idle';\r\n        state.error = action.error;\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n  }\r\n});\r\n\r\n/* --- SELECTORS --- */\r\n\r\nexport const selectShowFilterOptions = (state: RootState) => state.catalog.showFilterOptions;\r\nexport const selectShowCategoriesPanel = (state: RootState) => state.catalog.showCategoriesPanel;\r\nexport const selectFilteredEbooks = (state: RootState) => state.catalog.filteredEbooks;\r\nexport const selectFilters = (state: RootState) => state.catalog.filters;\r\nexport const selectError = (state: RootState) => state.catalog.error;\r\n\r\nexport const selectCategories = (state: RootState) => state.container.categories;\r\n\r\n/* --- EXPORTS --- */\r\n\r\nexport const { setShowFilterOptions, setShowCategoriesPanel, setFilters, sortEbooks } = catalogSlice.actions;\r\nexport default catalogSlice.reducer;\r\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\nimport { db } from '../../firebase';\r\n\r\ninterface ProductPageState {\r\n  showSidePanel: boolean,\r\n  product: any,\r\n  sidePanelContent: {\r\n    title: string,\r\n    subtitle: string | null,\r\n    body: string,\r\n  },\r\n  error: any,\r\n  status: string,\r\n  currentRequestId: any,\r\n}\r\n\r\nconst initialState: ProductPageState = {\r\n  showSidePanel: false,\r\n  product: null,\r\n  sidePanelContent: {\r\n    title: '',\r\n    subtitle: '',\r\n    body: '',\r\n  },\r\n  error: null,\r\n  status: 'idle',\r\n  currentRequestId: undefined,\r\n}\r\n\r\nexport const fetchProduct = createAsyncThunk<any, any, { state: RootState }>(\r\n  'ebook/getDataStatus',\r\n  async (params: any, { getState, requestId }) => {\r\n    const { currentRequestId, status } = getState().productPage;\r\n    if (status !== 'pending' || requestId !== currentRequestId) {\r\n      return;\r\n    }\r\n\r\n    let output = null;\r\n    let ebooksRef = await db.collection(\"ebooks\")\r\n      .where(\"id\", \"==\", params.id).get();\r\n\r\n    await ebooksRef.forEach((doc) => {\r\n      output = doc.data();\r\n    });\r\n\r\n    return output;\r\n  }\r\n)\r\n\r\n/* --- SLICE --- */\r\n\r\nexport const productPageSlice = createSlice({\r\n  name: 'productPage',\r\n  initialState,\r\n  reducers: {\r\n    setShowSidePanel: (state) => {\r\n      state.showSidePanel = !state.showSidePanel;\r\n    },\r\n    setSidePanelContent: (state, action: PayloadAction<any>) => {\r\n      state.sidePanelContent = action.payload;\r\n    }\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchProduct.pending, (state, action) => {\r\n      if (state.status === 'idle') {\r\n        state.product = null;\r\n        state.status = 'pending';\r\n        state.currentRequestId = action.meta.requestId;\r\n      }\r\n    })\r\n    builder.addCase(fetchProduct.fulfilled, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.product = action.payload;\r\n        state.status = 'idle';\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n    builder.addCase(fetchProduct.rejected, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.status = 'idle';\r\n        state.error = action.error;\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n  }\r\n});\r\n\r\n/*  --- SELECTORS ---  */\r\nexport const selectProduct = (state: RootState) => state.productPage.product;\r\nexport const selectShowSidePanel = (state: RootState) => state.productPage.showSidePanel;\r\nexport const selectSidePanelContent = (state: RootState) => state.productPage.sidePanelContent;\r\nexport const selectError = (state: RootState) => state.productPage.error;\r\n\r\n/* --- ACTIONS --- */\r\nexport const { setShowSidePanel, setSidePanelContent } = productPageSlice.actions;\r\n\r\nexport default productPageSlice.reducer;\r\n","export interface CartIconProps {\r\n  width?: number,\r\n  height?: number,\r\n  strokeColor?: string,\r\n}\r\n\r\nconst CartIcon: React.FC<CartIconProps> = ({ width = 32, height = 32, strokeColor = 'currentcolor' }) => {\r\n  return (\r\n    <svg id=\"i-cart\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width={width} height={height} fill=\"none\" stroke={strokeColor} strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <path d=\"M6 6 L30 6 27 19 9 19 M27 23 L10 23 5 2 2 2\" />\r\n      <circle cx=\"25\" cy=\"27\" r=\"2\" />\r\n      <circle cx=\"12\" cy=\"27\" r=\"2\" />\r\n    </svg>);\r\n}\r\n\r\nexport default CartIcon;","export interface CloseIconProps {\r\n  strokeWidth?: number,\r\n  strokeColor?: string,\r\n}\r\n\r\nconst CloseIcon: React.FC<CloseIconProps> = ({ strokeWidth = 2, strokeColor = 'currentcolor' }) => {\r\n  return (\r\n    <svg id=\"i-close\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"100%\" height=\"100%\" fill=\"none\" stroke={strokeColor} strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={strokeWidth}>\r\n      <path d=\"M2 30 L30 2 M30 30 L2 2\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default CloseIcon;","export interface SearchIconProps {\r\n\r\n}\r\n\r\nconst SearchIcon: React.FC<SearchIconProps> = () => {\r\n  return (\r\n    <svg id=\"i-search\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"100%\" height=\"100%\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <circle cx=\"14\" cy=\"14\" r=\"12\" />\r\n      <path d=\"M23 23 L30 30\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default SearchIcon;","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\nimport { db } from '../../firebase';\r\nimport ProductModel from '../../helpers/types/ProductModel';\r\n\r\n// Define a type for the slice state\r\ninterface SliderState {\r\n  products: ProductModel[],\r\n  status: string,\r\n  currentRequestId: any,\r\n  error: any,\r\n}\r\n\r\nexport const fetchRandomEbooks = createAsyncThunk<any, any, { state: RootState }>(\r\n  'sliderEbooks/getDataStatus',\r\n  async (params: { productsCount: number, category: string }, { getState, requestId }) => {\r\n    const { currentRequestId, status } = getState().slider;\r\n    if (status !== 'pending' || requestId !== currentRequestId) {\r\n      return;\r\n    }\r\n\r\n    let output: any = [];\r\n    const IDarr: number[] = [];\r\n    let ebooksRef: any;\r\n\r\n    for (let i = 0; IDarr.length < params.productsCount; i++) {\r\n      let randomID: number = Math.floor(Math.random() * (50 - 1) + 1);\r\n      if (IDarr.includes(randomID)) {\r\n        continue;\r\n      } else {\r\n        IDarr.push(randomID);\r\n      }\r\n    }\r\n    for (let i = 0; i <= params.productsCount; i += 10) {\r\n      const endIndex = i + 10;\r\n      const IDarrPortion = IDarr.slice(i, endIndex);\r\n      if (params.category === 'Wszystkie Ebooki') {\r\n        ebooksRef = await db.collection(\"ebooks\").where(\"id\", \"in\", IDarrPortion).get();\r\n      } else {\r\n        ebooksRef = await db.collection(\"ebooks\").where(\"category\", \"==\", params.category).where(\"id\", \"in\", IDarrPortion).get();\r\n      }\r\n\r\n      await ebooksRef.forEach((doc: any) => {\r\n        output.push(doc.data());\r\n      });\r\n    }\r\n\r\n    return output;\r\n  }\r\n)\r\n\r\n\r\n// Define the initial state using that type\r\nconst initialState: SliderState = {\r\n  products: [],\r\n  status: 'idle',\r\n  currentRequestId: undefined,\r\n  error: null,\r\n}\r\n\r\n\r\nexport const sliderSlice = createSlice({\r\n  name: 'slider',\r\n  initialState,\r\n  reducers: {\r\n\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchRandomEbooks.pending, (state, action) => {\r\n      if (state.status === 'idle') {\r\n        state.products = [];\r\n        state.status = 'pending';\r\n        state.currentRequestId = action.meta.requestId;\r\n      }\r\n    })\r\n    builder.addCase(fetchRandomEbooks.fulfilled, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.products = [...action.payload];\r\n        state.status = 'idle';\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n    builder.addCase(fetchRandomEbooks.rejected, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.status = 'idle';\r\n        state.error = action.error;\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n  }\r\n});\r\n\r\n//export const { } = sliderSlice.actions;\r\n\r\nexport const selectProducts = (state: RootState) => state.slider.products;\r\nexport const selectError = (state: RootState) => state.slider.error;\r\n\r\n\r\n\r\nexport default sliderSlice.reducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__Tjjty\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Backdrop_backdrop__3ym9l\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainPage\":\"Main_mainPage__2XQvb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1FJVQ\"};","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { db } from '../firebase';\r\nimport { RootState } from '../store/store';\r\n\r\ntype containerState = {\r\n  categories: { category: string, popular: string }[],\r\n  status: string,\r\n  currentRequestId: any,\r\n  error: any,\r\n}\r\n\r\nconst initialState: containerState = {\r\n  categories: [\r\n    {\r\n      category: '',\r\n      popular: ''\r\n    }\r\n  ],\r\n  status: 'idle',\r\n  currentRequestId: undefined,\r\n  error: null,\r\n}\r\n\r\nexport const fetchCategories = createAsyncThunk<any, any, { state: RootState }>(\r\n  'categories/getCategoriesStatus',\r\n  async (params: any, { getState, requestId }) => {\r\n    const { currentRequestId, status } = getState().container;\r\n    if (status !== 'pending' || requestId !== currentRequestId) {\r\n      return;\r\n    }\r\n    let output: any = [];\r\n    const categoriesRef = await db.collection(\"categories\").get();\r\n    await categoriesRef.forEach((doc) => {\r\n      output.push(doc.data());\r\n    })\r\n    return output;\r\n  }\r\n)\r\n\r\n/* --- SLICE --- */\r\n\r\nexport const containerSlice = createSlice({\r\n  name: 'container',\r\n  initialState,\r\n  reducers: {\r\n\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchCategories.pending, (state, action) => {\r\n      if (state.status === 'idle') {\r\n        state.categories = [];\r\n        state.status = 'pending';\r\n        state.currentRequestId = action.meta.requestId;\r\n      }\r\n    })\r\n    builder.addCase(fetchCategories.fulfilled, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.categories = [...action.payload];\r\n        state.status = 'idle';\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n    builder.addCase(fetchCategories.rejected, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.status = 'idle';\r\n        state.error = action.error;\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n  }\r\n});\r\n\r\n/* --- SELECTORS --- */\r\nexport const selectError = (state: RootState) => state.container.error;\r\n\r\n/* --- EXPORTS --- */\r\n//export const { } = sliderSlice.actions;\r\n\r\nexport default containerSlice.reducer;\r\n","import { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport CartContext from '../../store/cartContext';\r\n\r\nimport CartIcon from '../../assets/svg/CartIcon';\r\nimport styles from './Cart.module.scss'\r\n\r\nconst { cartItemsCounter, cartItemsCounterWrapper, cartIcon, cartIconWrapper } = styles;\r\n\r\nfunction Cart() {\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  return (\r\n    <div className={cartIconWrapper}>\r\n      <Link to={'/cart'} className={cartIcon}>\r\n        <CartIcon />\r\n        <div className={cartItemsCounterWrapper}>\r\n          <span className={cartItemsCounter}>{cartCtx.productsInCart.length}</span>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;","import { createSlice } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\n\r\ninterface NavigationState {\r\n  isVisibleNavSP: boolean,\r\n  isVisibleCatSP: boolean,\r\n}\r\n\r\nconst initialState: NavigationState = {\r\n  isVisibleNavSP: false,\r\n  isVisibleCatSP: false,\r\n}\r\n\r\n/* --- SLICE --- */\r\n\r\nexport const navigationSlice = createSlice({\r\n  name: 'navigation',\r\n  initialState,\r\n  reducers: {\r\n    showNavSidePanel: state => {\r\n      state.isVisibleNavSP = !state.isVisibleNavSP;\r\n    },\r\n    showCatSidePanel: state => {\r\n      state.isVisibleCatSP = !state.isVisibleCatSP;\r\n    },\r\n  },\r\n\r\n});\r\n\r\n/* --- SELECTORS --- */\r\nexport const selectIsVisibleNavSP = (state: RootState) => state.navigation.isVisibleNavSP;\r\nexport const selectIsVisibleCatSP = (state: RootState) => state.navigation.isVisibleCatSP;\r\nexport const selectCategories = (state: RootState) => state.container.categories;\r\nexport const selectError = (state: RootState) => state.container.error;\r\n\r\n/* --- EXPORTS --- */\r\n\r\nexport const { showNavSidePanel, showCatSidePanel } = navigationSlice.actions;\r\nexport default navigationSlice.reducer;\r\n","import { Link } from 'react-router-dom';\r\nimport useWidth from '../../helpers/useWidth';\r\nimport styles from './NavComponent.module.scss'\r\n\r\nconst { arrow, content, navComponent } = styles;\r\n\r\ntype navComponentType = {\r\n  name: string,\r\n  onClick: () => void,\r\n  onClickDesktop?: () => void,\r\n  extended?: boolean,\r\n  transDelay?: number;\r\n}\r\n\r\nconst NavComponent: React.FC<navComponentType> = ({ name, onClick, onClickDesktop, extended, transDelay }) => {\r\n  const { currWidth } = useWidth();\r\n\r\n  return (\r\n    <Link\r\n      to={'/catalog/' + name}\r\n      className={`${navComponent} ${extended ? arrow : null}`}\r\n      style={{ transitionDelay: `${transDelay}ms` }}\r\n      onClick={currWidth < 950 ? onClick : onClickDesktop}\r\n    >\r\n      <div className={content}>{name}</div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default NavComponent;\r\n","import styles from './Backdrop.module.scss';\r\n\r\nconst { backdrop } = styles;\r\n\r\nexport interface BackdropProps {\r\n\r\n}\r\n\r\nconst Backdrop: React.FC<BackdropProps> = () => {\r\n  return (<div className={backdrop}>\r\n\r\n  </div>);\r\n}\r\n\r\nexport default Backdrop;","import { useAppSelector, useAppDispatch } from '../../helpers/types/hooks';\r\n\r\nimport { showNavSidePanel, showCatSidePanel } from './navigationSlice';\r\nimport { selectIsVisibleNavSP, selectIsVisibleCatSP } from './navigationSlice';\r\n\r\nimport NavComponent from './NavComponent';\r\nimport Backdrop from '../../commonComponents/backdrop/Backdrop';\r\n\r\nimport CloseIcon from '../../assets/svg/CloseIcon';\r\nimport styles from './NavSidePanel.module.scss';\r\n\r\nconst { header, linksContainer, productType, sidePanel, showSidePanel, closeIcon } = styles;\r\n\r\nfunction NavSidePanel() {\r\n  const isVisible = useAppSelector(selectIsVisibleNavSP);\r\n  const isVisibleCat = useAppSelector(selectIsVisibleCatSP);\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <>\r\n      {isVisible ? <Backdrop /> : null}\r\n      <nav className={`${sidePanel} ${isVisible ? showSidePanel : null}`} >\r\n        <div className={header}>\r\n          <div className={productType}>Ebooki</div>\r\n          <div className={closeIcon} onClick={() => dispatch(showNavSidePanel())}>\r\n            <CloseIcon />\r\n          </div>\r\n        </div>\r\n        <div className={`${linksContainer}`}>\r\n          <NavComponent name=\"Kategorie\" extended={true}\r\n            onClick={() => { dispatch(showCatSidePanel()); dispatch(showNavSidePanel()) }}\r\n            onClickDesktop={() => { return isVisibleCat ? null : dispatch(showCatSidePanel()) }}\r\n            transDelay={100} />\r\n          <NavComponent name=\"Wszystkie Ebooki\" onClick={() => { dispatch(showNavSidePanel()) }} transDelay={200} />\r\n          <NavComponent name=\"Promocje\" onClick={() => { dispatch(showNavSidePanel()) }} transDelay={300} />\r\n          <NavComponent name=\"Nowości\" onClick={() => { dispatch(showNavSidePanel()) }} transDelay={400} />\r\n          <NavComponent name=\"Top 100\" onClick={() => { dispatch(showNavSidePanel()) }} transDelay={500} />\r\n          <NavComponent name=\"Darmowe ebooki\" onClick={() => { dispatch(showNavSidePanel()) }} transDelay={600} />\r\n        </div>\r\n      </nav>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NavSidePanel;\r\n","import { lazy, Suspense, useEffect } from 'react';\r\nimport { useAppSelector, useAppDispatch } from '../../helpers/types/hooks';\r\nimport { showCatSidePanel } from './navigationSlice';\r\nimport { selectIsVisibleCatSP, selectCategories, selectError } from './navigationSlice';\r\nimport useWidth from '../../helpers/useWidth';\r\n\r\nimport NavComponent from './NavComponent';\r\nimport Backdrop from '../../commonComponents/backdrop/Backdrop';\r\nimport LoadingSpinner from '../../commonComponents/loadingSpinner/LoadingSpinner';\r\nimport styles from './CategorySidePanel.module.scss';\r\n\r\nconst ShowError = lazy(() => import('../../commonComponents/showError/ShowError'));\r\n\r\nconst { categorySidePanel, linksContainer, showSidePanel, headElement, content } = styles;\r\n\r\nfunction CategoryPanel() {\r\n  const isVisibleCat = useAppSelector(selectIsVisibleCatSP);\r\n  const categories = useAppSelector(selectCategories)\r\n  const fetchError = useAppSelector(selectError);\r\n  const dispatch = useAppDispatch();\r\n  const { currWidth } = useWidth();\r\n\r\n  useEffect(() => {\r\n    if (isVisibleCat && currWidth >= 950) window.addEventListener('click', () => dispatch(showCatSidePanel()), { once: true });\r\n  }, [isVisibleCat, dispatch])\r\n\r\n  return (\r\n    <>\r\n      {isVisibleCat && currWidth < 950 ? <Backdrop /> : null}\r\n      <div className={`${categorySidePanel} ${isVisibleCat ? showSidePanel : null}`}>\r\n        <div className={headElement} onClick={() => dispatch(showCatSidePanel())}>\r\n          <div className={content}>Powrót</div>\r\n        </div>\r\n        <div className={linksContainer}>\r\n          {fetchError ? <Suspense fallback={<LoadingSpinner />}><ShowError /></Suspense> : categories.map((item, index) => { return <NavComponent key={item.category} name={item.category} onClick={() => dispatch(showCatSidePanel())} transDelay={(index + 1) * 100} /> })}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CategoryPanel;","export interface MenuIconProps {\r\n\r\n}\r\n\r\nconst MenuIcon: React.FC<MenuIconProps> = () => {\r\n  return (\r\n    <svg id=\"i-menu\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <path d=\"M4 8 L28 8 M4 16 L28 16 M4 24 L28 24\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default MenuIcon;","import { useAppDispatch } from '../../helpers/types/hooks';\r\nimport { showNavSidePanel } from './navigationSlice';\r\n\r\nimport NavSidePanel from './NavSidePanel';\r\nimport CategoryPanel from './CategorySidePanel'\r\nimport MenuIcon from '../../assets/svg/MenuIcon';\r\nimport styles from './Navigation.module.scss'\r\n\r\nfunction Navigation() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { navIcon, navIconWrapper } = styles;\r\n\r\n  return (\r\n    <>\r\n      <div className={navIconWrapper} onClick={() => dispatch(showNavSidePanel())}>\r\n        <div className={navIcon}>\r\n          <MenuIcon />\r\n        </div>\r\n      </div>\r\n      <NavSidePanel />\r\n      <CategoryPanel />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Navigation;","import { lazy, Suspense, useEffect } from 'react';\r\nimport { useAppSelector, useAppDispatch } from '../../helpers/types/hooks';\r\nimport useWidth from '../../helpers/useWidth';\r\n\r\nimport { selectShowSearchBar, setShowSearchBar } from './searcherSlice';\r\n\r\nimport LoadingSpinner from '../../commonComponents/loadingSpinner/LoadingSpinner';\r\nimport SearchIcon from '../../assets/svg/SearchIcon';\r\nimport styles from './Searcher.module.scss';\r\n\r\nconst SearchBar = lazy(() => import('./SearchBar'));\r\n\r\nconst { searchIcon, searchWrapper } = styles;\r\n\r\nfunction Searcher() {\r\n  const dispatch = useAppDispatch();\r\n  const isVisible = useAppSelector(selectShowSearchBar);\r\n  const { currWidth, prevWidth } = useWidth();\r\n\r\n  useEffect(() => {\r\n    if (currWidth < 950 && prevWidth >= 950) dispatch(setShowSearchBar(false));\r\n    if (currWidth >= 950) dispatch(setShowSearchBar(true));\r\n  }, [currWidth, prevWidth, dispatch])\r\n\r\n  return (\r\n    <>\r\n      <div className={searchWrapper} onClick={() => { dispatch(setShowSearchBar()) }}>\r\n        <div className={searchIcon}>\r\n          <SearchIcon />\r\n        </div>\r\n      </div>\r\n      {isVisible ? <Suspense fallback={<LoadingSpinner />}><SearchBar /></Suspense> : null}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Searcher;","export interface UserIconProps {\r\n\r\n}\r\n\r\nconst UserIcon: React.FC<UserIconProps> = () => {\r\n  return (\r\n    <svg id=\"i-user\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <path d=\"M22 11 C22 16 19 20 16 20 13 20 10 16 10 11 10 6 12 3 16 3 20 3 22 6 22 11 Z M4 30 L28 30 C28 21 22 20 16 20 10 20 4 21 4 30 Z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default UserIcon;","import { Link } from 'react-router-dom';\r\n\r\nimport UserIcon from '../../assets/svg/UserIcon';\r\nimport styles from './User.module.scss';\r\n\r\nconst { userIcon, userIconWrapper } = styles;\r\n\r\nfunction User() {\r\n  return (\r\n    <div className={userIconWrapper}>\r\n      <Link to=\"/sign-page\" className={userIcon}>\r\n        <UserIcon />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default User;","import { Link } from 'react-router-dom';\r\n\r\nimport styles from './Logo.module.scss'\r\n\r\nconst { logo, logoWrapper } = styles;\r\n\r\nfunction Logo() {\r\n  return (\r\n    <div className={logoWrapper}>\r\n      <Link className={logo} to='/'>\r\n        Wob&shy;Clone\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Logo;","import { useEffect } from 'react';\r\nimport { useAppDispatch } from '../helpers/types/hooks';\r\n\r\nimport { fetchCategories } from './containerSlice';\r\n\r\nimport styles from './Header.module.scss';\r\nimport Cart from '../features/cart/Cart';\r\nimport Navigation from '../features/navigation/Navigation';\r\nimport Searcher from '../features/searcher/Searcher';\r\nimport User from '../features/user/User';\r\nimport Logo from '../commonComponents/logo/Logo';\r\n\r\n\r\nfunction Header() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchCategories(''));\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <Navigation />\r\n      <Logo />\r\n      <Searcher />\r\n      <User />\r\n      <Cart />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import { lazy, Suspense } from 'react';\r\nimport styles from './StartPage.module.scss';\r\n\r\nimport LoadingSpinner from '../../commonComponents/loadingSpinner/LoadingSpinner';\r\n\r\nconst { } = styles;\r\n\r\nconst Slider = lazy(() => import('../slider/Slider'));\r\n\r\nexport interface StartPageProps {\r\n\r\n}\r\n\r\nconst StartPage: React.FC<StartPageProps> = () => {\r\n  return (\r\n    <>\r\n      <Suspense fallback={<LoadingSpinner />}>\r\n        <Slider />\r\n      </Suspense>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default StartPage;","import React, { Suspense } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport StartPage from '../features/startPage/StartPage'\r\nimport LoadingSpinner from '../commonComponents/loadingSpinner/LoadingSpinner';\r\nimport styles from './Main.module.scss';\r\n\r\nconst Catalog = React.lazy(() => import('../features/catalog/Catalog'));\r\nconst ProductPage = React.lazy(() => import('../features/productPage/ProductPage'));\r\n\r\nconst { mainPage } = styles;\r\n\r\nfunction Main() {\r\n\r\n  return (\r\n    <main className={mainPage} >\r\n      <Suspense fallback={<LoadingSpinner />}>\r\n        <Switch>\r\n          <Route path=\"/catalog/:tag\" exact><Catalog /></Route>\r\n          <Route path=\"/ebook/:tags\" exact render={(props) => <ProductPage {...props} />} />\r\n          <Route path=\"/\"><StartPage /></Route>\r\n        </Switch>\r\n      </Suspense>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import { Route, Redirect } from 'react-router-dom';\r\nimport { useAuth } from '../../store/AuthContext';\r\n\r\nexport interface PrivateRouteProps {\r\n  component: any,\r\n  path: string,\r\n}\r\n\r\nconst PrivateRoute: React.FC<PrivateRouteProps> = ({ component: Component, ...rest }) => {\r\n  const { currentUser } = useAuth();\r\n\r\n  return (<Route {...rest} render={props => currentUser ? <Component {...props} /> : <Redirect to=\"/sign-page\" />} />)\r\n}\r\n\r\nexport default PrivateRoute;","import React, { Suspense } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport Header from './containers/Header';\r\nimport Main from './containers/Main';\r\nimport PrivateRoute from './commonComponents/privateRoute/PrivateRoute';\r\nimport LoadingSpinner from './commonComponents/loadingSpinner/LoadingSpinner';\r\nimport styles from './App.module.scss';\r\n\r\nconst SignPage = React.lazy(() => import('./containers/SignPage'));\r\nconst CartPage = React.lazy(() => import('./features/cart/CartPage'));\r\nconst PaymentPage = React.lazy(() => import('./features/cart/paymentPage/PaymentPage'));\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div className={styles.app}>\r\n        <Suspense fallback={<LoadingSpinner />}>\r\n          <Switch>\r\n            <Route path=\"/sign-page\"><SignPage /></Route>\r\n            <Route path=\"/cart\" exact><CartPage /></Route>\r\n            <PrivateRoute path=\"/cart/payment\" component={PaymentPage} />\r\n            <Route path=\"/\" >\r\n              <Header />\r\n              <Main />\r\n            </Route>\r\n          </Switch>\r\n        </Suspense>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\ninterface ProductCardState {\r\n  productTags: {\r\n    title: string,\r\n    authorFirstName: string,\r\n    authorLastName: string,\r\n  }\r\n}\r\n\r\nconst initialState: ProductCardState = {\r\n  productTags: {\r\n    title: '',\r\n    authorFirstName: '',\r\n    authorLastName: '',\r\n  },\r\n}\r\n\r\n\r\nexport const productCardSlice = createSlice({\r\n  name: 'productCard',\r\n  initialState,\r\n  reducers: {\r\n    setProductTags: (state, action: PayloadAction<{ title: string, authorFirstName: string, authorLastName: string }>) => {\r\n      state.productTags.title = action.payload.title;\r\n      state.productTags.authorFirstName = action.payload.authorFirstName;\r\n      state.productTags.authorLastName = action.payload.authorLastName;\r\n    }\r\n  },\r\n});\r\n\r\nexport const { setProductTags } = productCardSlice.actions;\r\n\r\nexport default productCardSlice.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { combineReducers } from 'redux';\r\n\r\n\r\nimport containerReducer from '../containers/containerSlice';\r\nimport navigationReducer from '../features/navigation/navigationSlice';\r\nimport sliderReducer from '../features/slider/sliderSlice';\r\nimport searcherReducer from '../features/searcher/searcherSlice';\r\nimport catalogReducer from '../features/catalog/catalogSlice';\r\nimport productPageReducer from '../features/productPage/productPageSlice';\r\nimport productCardReducer from '../commonComponents/productCard/productCardSlice';\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  container: containerReducer,\r\n  navigation: navigationReducer,\r\n  slider: sliderReducer,\r\n  searcher: searcherReducer,\r\n  catalog: catalogReducer,\r\n  productPage: productPageReducer,\r\n  productCard: productCardReducer,\r\n})\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n})\r\n\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport default store;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './store/store';\r\nimport { Provider } from 'react-redux';\r\nimport { CartContextProvider } from './store/cartContext';\r\nimport { AuthContextProvider } from './store/AuthContext';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextProvider>\r\n      <Provider store={store}>\r\n        <CartContextProvider>\r\n          <App />\r\n        </CartContextProvider>\r\n      </Provider>\r\n    </AuthContextProvider>,\r\n   </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}