{"version":3,"sources":["helpers/types/hooks.ts","firebase.js","commonComponents/productCard/ProductCard.module.scss","features/slider/Slider.module.scss","features/searcher/searcherSlice.ts","store/cartContext.tsx","helpers/useWidth.tsx","features/navigation/NavSidePanel.module.scss","helpers/sorting.tsx","features/cart/Cart.module.scss","features/navigation/CategorySidePanel.module.scss","store/AuthContext.tsx","commonComponents/showError/ShowError.tsx","assets/svg/CartIcon.tsx","features/navigation/NavComponent.module.scss","features/navigation/Navigation.module.scss","features/searcher/Searcher.module.scss","features/user/User.module.scss","commonComponents/logo/Logo.module.scss","features/catalog/catalogSlice.ts","features/productPage/productPageSlice.ts","assets/svg/CloseIcon.tsx","assets/images/blue-butterfly-small.jpg","assets/images/blue-butterfly-medium.jpg","assets/images/brain-small.jpg","assets/images/brain-medium.jpg","assets/images/clover-small.jpg","assets/images/clover-medium.jpg","assets/images/desk-assets-small.jpg","assets/images/desk-assets-medium.jpg","assets/images/tribal-skull-small.jpg","assets/images/tribal-skull-medium.jpg","assets/images.ts","assets/svg/SearchIcon.tsx","commonComponents/productCard/ProductCard.tsx","containers/Header.module.scss","commonComponents/backdrop/Backdrop.module.scss","commonComponents/showError/ShowError.module.scss","features/slider/SliderPage.module.scss","features/banner/Banner.module.scss","containers/Main.module.scss","App.module.scss","containers/containerSlice.ts","features/cart/Cart.tsx","features/navigation/navigationSlice.ts","commonComponents/backdrop/Backdrop.tsx","features/navigation/NavComponent.tsx","features/navigation/NavSidePanel.tsx","features/navigation/CategorySidePanel.tsx","assets/svg/MenuIcon.tsx","features/navigation/Navigation.tsx","features/searcher/Searcher.tsx","assets/svg/UserIcon.tsx","features/user/User.tsx","commonComponents/logo/Logo.tsx","containers/Header.tsx","features/slider/sliderSlice.ts","features/slider/SliderPage.tsx","features/slider/Slider.tsx","features/banner/Banner.tsx","features/startPage/StartPage.tsx","containers/Main.tsx","commonComponents/privateRoute/PrivateRoute.tsx","App.tsx","commonComponents/productCard/productCardSlice.ts","store/store.ts","serviceWorker.js","index.tsx"],"names":["useAppDispatch","useDispatch","useAppSelector","useSelector","firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","db","firestore","module","exports","initialState","ebooks","searchResults","searchKey","showSearchBar","status","currentRequestId","undefined","error","fetchForSearch","createAsyncThunk","params","a","getState","requestId","searcher","output","collection","get","ebooksRef","forEach","doc","push","data","sorting","searcherSlice","createSlice","name","reducers","setSearchKey","state","action","payload","setSearchResults","setShowSearchBar","extraReducers","builder","addCase","pending","meta","fulfilled","rejected","selectEbooks","selectSearchKey","selectSearchResults","selectShowSearchBar","actions","CartContext","React","createContext","productsInCart","pricing","nominalPrice","actualPrice","totalDiscount","paymentMethod","currentPaymentStep","addToCart","removeFromCart","choosePaymentMethod","handlePaymentStep","CartContextProvider","props","useState","setProductsInCart","setPaymentMethod","setPaymentStep","setPricing","contextValue","product","findIndex","element","id","prevArr","prevObj","Number","price","toFixed","productsInCartCopy","index","splice","option","direction","prevStep","Provider","value","children","getWidth","window","innerWidth","useWidth","currWidth","prevWidth","width","setWidth","useEffect","timeout","resizeListener","clearTimeout","setTimeout","prev","addEventListener","removeEventListener","sort","b","titleA","title","toUpperCase","titleB","AuthContext","currentUser","signUp","signIn","signOut","useAuth","useContext","AuthContextProvider","setCurrentUser","loading","setLoading","onAuthStateChanged","user","email","password","createUserWithEmailAndPassword","signInWithEmailAndPassword","err","styles","ShowError","className","CartIcon","height","strokeColor","xmlns","viewBox","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","cx","cy","r","filteredEbooks","filters","categoryFilter","promotion","showFilterOptions","showCategoriesPanel","fetchEbooks","catalog","getFilters","where","catalogSlice","setShowFilterOptions","setShowCategoriesPanel","setFilters","filter","sortEbooks","selectShowFilterOptions","selectShowCategoriesPanel","selectFilteredEbooks","selectFilters","selectError","selectCategories","container","categories","showSidePanel","sidePanelContent","subtitle","body","fetchProduct","productPage","productPageSlice","setShowSidePanel","setSidePanelContent","selectProduct","selectShowSidePanel","selectSidePanelContent","CloseIcon","covers","Map","small","butterflySmall","medium","butterflyMedium","brainSmall","brainMedium","cloverSmall","cloverMedium","deskAssetsSmall","deskAssetsMedium","tribalSkullSmall","tribalSkullMedium","SearchIcon","card","cardCover","cardFull","picture","productDetails","toCartBtn","ProductCard","ebook","cardStyleVersion","itemWidth","cartCtx","cover","style","to","pathname","author","firstName","lastName","srcSet","media","src","alt","onClick","category","popular","fetchCategories","categoriesRef","containerSlice","cartItemsCounter","cartItemsCounterWrapper","cartIcon","cartIconWrapper","Cart","length","navigationSlice","isVisibleNavSP","isVisibleCatSP","showNavSidePanel","showCatSidePanel","selectIsVisibleNavSP","navigation","selectIsVisibleCatSP","backdrop","Backdrop","arrow","content","navComponent","NavComponent","onClickDesktop","extended","header","productType","sidePanel","closeIcon","NavSidePanel","isVisible","isVisibleCat","dispatch","categorySidePanel","headElement","CategoryPanel","fetchError","once","map","item","MenuIcon","Navigation","navIcon","navIconWrapper","SearchBar","lazy","searchIcon","searchWrapper","Searcher","fallback","UserIcon","userIcon","userIconWrapper","User","logo","logoWrapper","Logo","Header","fetchRandomEbooks","slider","IDarr","productsCount","randomID","Math","floor","random","includes","i","endIndex","IDarrPortion","slice","products","sliderSlice","selectProducts","itemList","SliderPage","slidePage","transform","leftArr","rightArr","pagesContainer","sliderPages","sliderPage","active","Slider","setSlidePage","pagesArray","setPagesArray","pagesContRef","useRef","turnPage","count","prevCount","createPages","useCallback","maxItemsCountPerPage","current","offsetWidth","pagesCount","ceil","pagesArr","itemsForPageArr","ref","Banner","banner","StartPage","Catalog","ProductPage","mainPage","Main","path","exact","render","PrivateRoute","Component","component","rest","SignPage","CartPage","PaymentPage","App","app","productCardSlice","productTags","authorFirstName","authorLastName","setProductTags","rootReducer","combineReducers","containerReducer","navigationReducer","sliderReducer","searcherReducer","catalogReducer","productPageReducer","productCard","productCardReducer","store","configureStore","reducer","Boolean","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.94ac091c.chunk.js","sourcesContent":["import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\r\nimport type { RootState, AppDispatch } from '../../store/store'\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","import firebase from \"firebase/app\";\r\nimport 'firebase/firestore';\r\nimport \"firebase/auth\";\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyBcPWLW6D0lZqB-FyT0Fdtz1XUi0nhS2Zo\",\r\n  authDomain: \"wobclone-3d29b.firebaseapp.com\",\r\n  projectId: \"wobclone-3d29b\",\r\n  storageBucket: \"wobclone-3d29b.appspot.com\",\r\n  messagingSenderId: \"225553916464\",\r\n  appId: \"1:225553916464:web:55185a4c2423e19956c3f5\",\r\n  measurementId: \"G-RN8PBF6BH7\"\r\n\r\n})\r\n\r\n/*const firebaseApp = firebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n\r\n}) */\r\n\r\nexport const auth = firebaseApp.auth();\r\nexport const db = firebaseApp.firestore();\r\n\r\n\r\n/*\r\n apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n */","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ProductCard_card__aicOV\",\"picture\":\"ProductCard_picture__2QUW0\",\"productDetails\":\"ProductCard_productDetails__XPewh\",\"title\":\"ProductCard_title__2jJ0a\",\"price\":\"ProductCard_price__39Yx0\",\"toCartBtn\":\"ProductCard_toCartBtn__3zha6\",\"cardFull\":\"ProductCard_cardFull__GJjsb\",\"cardCover\":\"ProductCard_cardCover__2B2TE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Slider_slider__1bOsF\",\"pagesContainer\":\"Slider_pagesContainer__2M80L\",\"arrow\":\"Slider_arrow__38iI_\",\"leftArr\":\"Slider_leftArr__228g6\",\"rightArr\":\"Slider_rightArr__16RN5\",\"sliderPages\":\"Slider_sliderPages__2dWLp\",\"sliderPage\":\"Slider_sliderPage__38mZr\",\"active\":\"Slider_active__3Wxzh\"};","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\nimport { db } from '../../firebase';\r\nimport { sorting } from '../../helpers/sorting';\r\nimport ProductModel from '../../helpers/types/ProductModel'\r\n\r\nexport interface SearchResultsPayload {\r\n  linkPathName: string;\r\n  linkContent: {\r\n    title: string | null;\r\n    authorFirstName: string;\r\n    authorLastName: string;\r\n  };\r\n  linkState: {\r\n    authorFirstName: string;\r\n    authorLastName: string;\r\n    title?: string;\r\n  };\r\n}\r\ninterface SearcherState {\r\n  ebooks: ProductModel[],\r\n  searchResults: SearchResultsPayload[] | [],\r\n  searchKey: string,\r\n  showSearchBar: boolean,\r\n  status: string,\r\n  currentRequestId: any,\r\n  error: any,\r\n}\r\n\r\nconst initialState: SearcherState = {\r\n  ebooks: [],\r\n  searchResults: [],\r\n  searchKey: '',\r\n  showSearchBar: false,\r\n  status: 'idle',\r\n  currentRequestId: undefined,\r\n  error: null,\r\n}\r\n\r\nexport const fetchForSearch = createAsyncThunk<any, any, { state: RootState }>(\r\n  'searchEbook/getDataStatus',\r\n  async (params: any, { getState, requestId }) => {\r\n    const { currentRequestId, status } = getState().searcher;\r\n    if (status !== 'pending' || requestId !== currentRequestId) {\r\n      return;\r\n    }\r\n\r\n    let output: any = [];\r\n    let ebooksRef = await db.collection(\"ebooks\").get();\r\n\r\n    await ebooksRef.forEach((doc) => {\r\n      output.push(doc.data());\r\n    });\r\n\r\n    output = sorting(output, 'alphabetical');\r\n    return output;\r\n  }\r\n)\r\n\r\n\r\n/* --- SLICE --- */\r\n\r\nexport const searcherSlice = createSlice({\r\n  name: 'searcher',\r\n  initialState,\r\n  reducers: {\r\n    setSearchKey: (state, action: PayloadAction<string>) => {\r\n      state.searchKey = action.payload;\r\n    },\r\n    setSearchResults: (state, action: PayloadAction<SearchResultsPayload[] | []>) => {\r\n      state.searchResults = action.payload;\r\n    },\r\n    setShowSearchBar: (state, action: PayloadAction<boolean | undefined>) => {\r\n      state.showSearchBar = action.payload ?? !state.showSearchBar;\r\n    }\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchForSearch.pending, (state, action) => {\r\n      if (state.status === 'idle') {\r\n        state.ebooks = [];\r\n        state.status = 'pending';\r\n        state.currentRequestId = action.meta.requestId;\r\n      }\r\n    })\r\n    builder.addCase(fetchForSearch.fulfilled, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.ebooks.push(...action.payload);\r\n        state.status = 'idle';\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n    builder.addCase(fetchForSearch.rejected, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.status = 'idle';\r\n        state.error = action.error;\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n  },\r\n});\r\n\r\n/* --- SELECTORS --- */\r\n\r\nexport const selectEbooks = (state: RootState) => state.searcher.ebooks;\r\nexport const selectSearchKey = (state: RootState) => state.searcher.searchKey;\r\nexport const selectSearchResults = (state: RootState) => state.searcher.searchResults;\r\nexport const selectShowSearchBar = (state: RootState) => state.searcher.showSearchBar;\r\nexport const selectError = (state: RootState) => state.searcher.error;\r\n\r\n/* --- EXPORTS --- */\r\n\r\nexport const { setSearchKey, setSearchResults, setShowSearchBar } = searcherSlice.actions;\r\nexport default searcherSlice.reducer;\r\n","import React, { useState } from 'react';\r\nimport ProductModel from '../helpers/types/ProductModel';\r\n\r\ntype pricingType = {\r\n  nominalPrice: number,\r\n  actualPrice: number,\r\n  totalDiscount: number,\r\n}\r\n\r\ntype ProductContextObj = {\r\n  productsInCart: ProductModel[],\r\n  pricing: pricingType,\r\n  paymentMethod: string,\r\n  currentPaymentStep: number,\r\n  addToCart: (product: ProductModel) => void,\r\n  removeFromCart: (id: number) => void,\r\n  choosePaymentMethod: (option: string) => void,\r\n  handlePaymentStep: (direction: 'next' | 'back') => void\r\n}\r\n\r\nconst CartContext = React.createContext<ProductContextObj>({\r\n  productsInCart: [],\r\n  pricing: {\r\n    nominalPrice: 0,\r\n    actualPrice: 0,\r\n    totalDiscount: 0,\r\n  },\r\n  paymentMethod: '',\r\n  currentPaymentStep: 0,\r\n  addToCart: () => { },\r\n  removeFromCart: () => { },\r\n  choosePaymentMethod: () => { },\r\n  handlePaymentStep: () => { },\r\n});\r\n\r\n\r\nexport const CartContextProvider: React.FC = (props) => {\r\n  const [productsInCart, setProductsInCart] = useState<ProductModel[]>([]);\r\n  const [paymentMethod, setPaymentMethod] = useState<string>('');\r\n  const [currentPaymentStep, setPaymentStep] = useState<number>(2);\r\n  const [pricing, setPricing] = useState<pricingType>({\r\n    nominalPrice: 0,\r\n    actualPrice: 0,\r\n    totalDiscount: 0,\r\n  });\r\n\r\n  const addToCart = (product: ProductModel) => {\r\n    if (productsInCart.findIndex((element) => element.id === product.id) === -1) {\r\n      setProductsInCart(prevArr => [...prevArr, product]);\r\n      setPricing(prevObj => ({\r\n        totalDiscount: 0,\r\n        nominalPrice: Number((prevObj.nominalPrice + Number(product.price)).toFixed(2)),\r\n        actualPrice: Number((prevObj.nominalPrice + Number(product.price)).toFixed(2)),\r\n      }))\r\n    }\r\n  }\r\n\r\n  const removeFromCart = (id: number) => {\r\n    const productsInCartCopy = [...productsInCart];\r\n    const index = productsInCartCopy.findIndex((element) => element.id === id);\r\n\r\n    if (index > -1) {\r\n      setPricing(prevObj => ({\r\n        totalDiscount: 0,\r\n        nominalPrice: Number((prevObj.nominalPrice - Number(productsInCartCopy[index].price)).toFixed(2)),\r\n        actualPrice: Number((prevObj.nominalPrice - Number(productsInCartCopy[index].price)).toFixed(2)),\r\n      }))\r\n      productsInCartCopy.splice(index, 1);\r\n      setProductsInCart([...productsInCartCopy]);\r\n    }\r\n  }\r\n\r\n  const choosePaymentMethod = (option: string) => {\r\n    setPaymentMethod(option);\r\n  }\r\n\r\n  const handlePaymentStep = (direction: 'next' | 'back') => {\r\n    switch (direction) {\r\n      case 'next': setPaymentStep(prevStep => ++prevStep);\r\n        break;\r\n      case 'back': setPaymentStep(prevStep => --prevStep);\r\n    }\r\n\r\n  }\r\n\r\n  const contextValue: ProductContextObj = {\r\n    productsInCart: productsInCart,\r\n    pricing: pricing,\r\n    paymentMethod: paymentMethod,\r\n    currentPaymentStep: currentPaymentStep,\r\n    addToCart: addToCart,\r\n    removeFromCart: removeFromCart,\r\n    choosePaymentMethod: choosePaymentMethod,\r\n    handlePaymentStep: handlePaymentStep,\r\n  }\r\n\r\n  return <CartContext.Provider value={contextValue}>\r\n    {props.children}\r\n  </CartContext.Provider>\r\n}\r\n\r\nexport default CartContext;","import { useEffect, useState } from 'react';\r\n\r\ntype widthType = {\r\n  currWidth: number,\r\n  prevWidth: number\r\n}\r\n\r\nconst getWidth = () => window.innerWidth;\r\n\r\nconst useWidth = () => {\r\n  const [width, setWidth] = useState<widthType>({ currWidth: getWidth(), prevWidth: getWidth() });\r\n\r\n  useEffect(() => {\r\n    let timeout: any = null;\r\n\r\n    const resizeListener = () => {\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(() => {\r\n        setWidth((prev) => { return { currWidth: getWidth(), prevWidth: prev.currWidth } });\r\n      }, 100);\r\n    }\r\n\r\n    window.addEventListener('resize', resizeListener);\r\n    return () => {\r\n      window.removeEventListener('resize', resizeListener);\r\n    }\r\n  }, [])\r\n\r\n  return width;\r\n}\r\n\r\nexport default useWidth;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidePanel\":\"NavSidePanel_sidePanel__3Zslq\",\"header\":\"NavSidePanel_header__P4pZ_\",\"productType\":\"NavSidePanel_productType__3oeMS\",\"closeIcon\":\"NavSidePanel_closeIcon__3EHZa\",\"showSidePanel\":\"NavSidePanel_showSidePanel__1AWDl\"};","import ProductModel from '../helpers/types/ProductModel';\r\n\r\nexport const sorting = (state: ProductModel[], action: string) => {\r\n\r\n  switch (action) {\r\n    case 'lower-price':\r\n      state = state.sort((a, b) => +a.price - +b.price);\r\n      break;\r\n    case 'higher-price':\r\n      state = state.sort((a, b) => +b.price - +a.price);\r\n      break;\r\n    default:\r\n      state = state.sort((a, b) => {\r\n        let titleA = a.title.toUpperCase();\r\n        let titleB = b.title.toUpperCase();\r\n        if (titleA < titleB) {\r\n          return -1;\r\n        }\r\n        if (titleA > titleB) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      });\r\n  }\r\n  return state;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartIconWrapper\":\"Cart_cartIconWrapper__3CtCY\",\"cartIcon\":\"Cart_cartIcon__2XFv1\",\"cartItemsCounterWrapper\":\"Cart_cartItemsCounterWrapper__3gnWr\",\"cartItemsCounter\":\"Cart_cartItemsCounter__CyDf3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"categorySidePanel\":\"CategorySidePanel_categorySidePanel__3-8Ic\",\"showSidePanel\":\"CategorySidePanel_showSidePanel__hcabu\",\"headElement\":\"CategorySidePanel_headElement__3bIiL\",\"content\":\"CategorySidePanel_content__2e-t9\"};","import React, { useContext, useState, useEffect } from 'react';\r\nimport { auth } from '../firebase';\r\n\r\ninterface AuthContextProviderProps {\r\n\r\n}\r\n\r\ninterface contextType {\r\n  currentUser: any,\r\n  signUp: (email: string, password: string) => Promise<any>,\r\n  signIn: (email: string, password: string) => Promise<any>,\r\n  signOut: () => Promise<any>,\r\n}\r\n\r\nconst AuthContext = React.createContext<contextType>({\r\n  currentUser: null,\r\n  signUp: async () => { },\r\n  signIn: async () => { },\r\n  signOut: async () => { },\r\n});\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport const AuthContextProvider: React.FC<AuthContextProviderProps> = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState<any>();\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n\r\n  const signUp = (email: string, password: string) => {\r\n    return auth.createUserWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  const signIn = (email: string, password: string) => {\r\n    return auth.signInWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  const signOut = () => {\r\n    return auth.signOut();\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user);\r\n      setLoading(false);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [])\r\n\r\n\r\n\r\n  const contextValue: contextType = {\r\n    currentUser,\r\n    signUp,\r\n    signIn,\r\n    signOut,\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\n","import styles from './ShowError.module.scss';\r\n\r\nconst { err } = styles;\r\n\r\nexport interface ShowErrorProps {\r\n\r\n}\r\n\r\nconst ShowError: React.FC<ShowErrorProps> = () => {\r\n  return (<div className={err}>Something went wrong. Try reload</div>);\r\n}\r\n\r\nexport default ShowError;","export interface CartIconProps {\r\n  width?: number,\r\n  height?: number,\r\n  strokeColor?: string,\r\n}\r\n\r\nconst CartIcon: React.FC<CartIconProps> = ({ width = 32, height = 32, strokeColor = 'currentcolor' }) => {\r\n  return (\r\n    <svg id=\"i-cart\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width={width} height={height} fill=\"none\" stroke={strokeColor} strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <path d=\"M6 6 L30 6 27 19 9 19 M27 23 L10 23 5 2 2 2\" />\r\n      <circle cx=\"25\" cy=\"27\" r=\"2\" />\r\n      <circle cx=\"12\" cy=\"27\" r=\"2\" />\r\n    </svg>);\r\n}\r\n\r\nexport default CartIcon;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navComponent\":\"NavComponent_navComponent__23x1y\",\"arrow\":\"NavComponent_arrow__gwu1E\",\"content\":\"NavComponent_content__Yk7iz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navIconWrapper\":\"Navigation_navIconWrapper__1cPXf\",\"navIcon\":\"Navigation_navIcon__2ElIO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchWrapper\":\"Searcher_searchWrapper__1NxW3\",\"searchIcon\":\"Searcher_searchIcon__2OyTP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userIconWrapper\":\"User_userIconWrapper__2vM4-\",\"userIcon\":\"User_userIcon__1t3sA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logoWrapper\":\"Logo_logoWrapper__3j-J8\",\"logo\":\"Logo_logo__6NgFA\"};","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\nimport { db } from '../../firebase';\r\nimport { sorting } from '../../helpers/sorting';\r\nimport ProductModel from '../../helpers/types/ProductModel';\r\n\r\ninterface setFiltersType {\r\n  filter: string,\r\n  value: string\r\n}\r\n\r\ninterface catalogState {\r\n  filteredEbooks: ProductModel[],\r\n  filters: {\r\n    categoryFilter: string,\r\n    promotion: 'true' | '',\r\n    [key: string]: string\r\n  },\r\n  showFilterOptions: boolean,\r\n  showCategoriesPanel: boolean,\r\n  error: any,\r\n  status: string,\r\n  currentRequestId: any,\r\n}\r\n\r\nconst initialState: catalogState = {\r\n  filteredEbooks: [],\r\n  filters: {\r\n    categoryFilter: '',\r\n    promotion: '',\r\n  },\r\n  showFilterOptions: false,\r\n  showCategoriesPanel: false,\r\n  error: null,\r\n  status: 'idle',\r\n  currentRequestId: undefined,\r\n}\r\n\r\nexport const fetchEbooks = createAsyncThunk<any, any, { state: RootState }>(\r\n  'ebooks/getDataStatus',\r\n  async (params: any, { getState, requestId }) => {\r\n    const { currentRequestId, status } = getState().catalog;\r\n    const getFilters = getState().catalog.filters;\r\n\r\n    if (status !== 'pending' || requestId !== currentRequestId) {\r\n      return;\r\n    }\r\n\r\n    let output: any = [];\r\n    let ebooksRef;\r\n\r\n    if (getFilters.categoryFilter === 'Wszystkie Ebooki') {\r\n      ebooksRef = await db.collection(\"ebooks\").get();\r\n    } else {\r\n      ebooksRef = await db.collection(\"ebooks\").where(\"category\", \"==\", getFilters.categoryFilter).get();\r\n    }\r\n\r\n    await ebooksRef.forEach((doc) => {\r\n      output.push(doc.data());\r\n    });\r\n\r\n    output = sorting(output, 'alphabetical');\r\n    return output;\r\n  }\r\n)\r\n\r\n/* --- SLICE --- */\r\n\r\nexport const catalogSlice = createSlice({\r\n  name: 'catalog',\r\n  initialState,\r\n  reducers: {\r\n    setShowFilterOptions: (state) => {\r\n      state.showFilterOptions = !state.showFilterOptions;\r\n    },\r\n    setShowCategoriesPanel: (state) => {\r\n      state.showCategoriesPanel = !state.showCategoriesPanel;\r\n    },\r\n    setFilters: (state, action: PayloadAction<setFiltersType>) => {\r\n      state.filters[action.payload.filter] = action.payload.value;\r\n    },\r\n    sortEbooks: (state, action) => {\r\n      state.filteredEbooks = sorting(state.filteredEbooks, action.payload);\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchEbooks.pending, (state, action) => {\r\n      if (state.status === 'idle') {\r\n        state.filteredEbooks = [];\r\n        state.status = 'pending';\r\n        state.currentRequestId = action.meta.requestId;\r\n      }\r\n    })\r\n    builder.addCase(fetchEbooks.fulfilled, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.filteredEbooks.push(...action.payload);\r\n        state.status = 'idle';\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n    builder.addCase(fetchEbooks.rejected, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.status = 'idle';\r\n        state.error = action.error;\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n  }\r\n});\r\n\r\n/* --- SELECTORS --- */\r\n\r\nexport const selectShowFilterOptions = (state: RootState) => state.catalog.showFilterOptions;\r\nexport const selectShowCategoriesPanel = (state: RootState) => state.catalog.showCategoriesPanel;\r\nexport const selectFilteredEbooks = (state: RootState) => state.catalog.filteredEbooks;\r\nexport const selectFilters = (state: RootState) => state.catalog.filters;\r\nexport const selectError = (state: RootState) => state.catalog.error;\r\n\r\nexport const selectCategories = (state: RootState) => state.container.categories;\r\n\r\n/* --- EXPORTS --- */\r\n\r\nexport const { setShowFilterOptions, setShowCategoriesPanel, setFilters, sortEbooks } = catalogSlice.actions;\r\nexport default catalogSlice.reducer;\r\n","import { createAsyncThunk, createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\nimport { db } from '../../firebase';\r\n\r\ninterface ProductPageState {\r\n  showSidePanel: boolean,\r\n  product: any,\r\n  sidePanelContent: {\r\n    title: string,\r\n    subtitle: string | null,\r\n    body: string,\r\n  },\r\n  error: any,\r\n  status: string,\r\n  currentRequestId: any,\r\n}\r\n\r\nconst initialState: ProductPageState = {\r\n  showSidePanel: false,\r\n  product: null,\r\n  sidePanelContent: {\r\n    title: '',\r\n    subtitle: '',\r\n    body: '',\r\n  },\r\n  error: null,\r\n  status: 'idle',\r\n  currentRequestId: undefined,\r\n}\r\n\r\nexport const fetchProduct = createAsyncThunk<any, any, { state: RootState }>(\r\n  'ebook/getDataStatus',\r\n  async (params: any, { getState, requestId }) => {\r\n    const { currentRequestId, status } = getState().productPage;\r\n    if (status !== 'pending' || requestId !== currentRequestId) {\r\n      return;\r\n    }\r\n\r\n    let output = null;\r\n    let ebooksRef = await db.collection(\"ebooks\")\r\n      .where(\"id\", \"==\", params.id).get();\r\n\r\n    await ebooksRef.forEach((doc) => {\r\n      output = doc.data();\r\n    });\r\n\r\n    return output;\r\n  }\r\n)\r\n\r\n/* --- SLICE --- */\r\n\r\nexport const productPageSlice = createSlice({\r\n  name: 'productPage',\r\n  initialState,\r\n  reducers: {\r\n    setShowSidePanel: (state) => {\r\n      state.showSidePanel = !state.showSidePanel;\r\n    },\r\n    setSidePanelContent: (state, action: PayloadAction<any>) => {\r\n      state.sidePanelContent = action.payload;\r\n    }\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchProduct.pending, (state, action) => {\r\n      if (state.status === 'idle') {\r\n        state.product = null;\r\n        state.status = 'pending';\r\n        state.currentRequestId = action.meta.requestId;\r\n      }\r\n    })\r\n    builder.addCase(fetchProduct.fulfilled, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.product = action.payload;\r\n        state.status = 'idle';\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n    builder.addCase(fetchProduct.rejected, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.status = 'idle';\r\n        state.error = action.error;\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n  }\r\n});\r\n\r\n/*  --- SELECTORS ---  */\r\nexport const selectProduct = (state: RootState) => state.productPage.product;\r\nexport const selectShowSidePanel = (state: RootState) => state.productPage.showSidePanel;\r\nexport const selectSidePanelContent = (state: RootState) => state.productPage.sidePanelContent;\r\nexport const selectError = (state: RootState) => state.productPage.error;\r\n\r\n/* --- ACTIONS --- */\r\nexport const { setShowSidePanel, setSidePanelContent } = productPageSlice.actions;\r\n\r\nexport default productPageSlice.reducer;\r\n","export interface CloseIconProps {\r\n  strokeWidth?: number,\r\n  strokeColor?: string,\r\n}\r\n\r\nconst CloseIcon: React.FC<CloseIconProps> = ({ strokeWidth = 2, strokeColor = 'currentcolor' }) => {\r\n  return (\r\n    <svg id=\"i-close\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"100%\" height=\"100%\" fill=\"none\" stroke={strokeColor} strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={strokeWidth}>\r\n      <path d=\"M2 30 L30 2 M30 30 L2 2\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default CloseIcon;","export default __webpack_public_path__ + \"static/media/blue-butterfly-small.25ddfdf8.jpg\";","export default __webpack_public_path__ + \"static/media/blue-butterfly-medium.8a5789da.jpg\";","export default __webpack_public_path__ + \"static/media/brain-small.b8b0b789.jpg\";","export default __webpack_public_path__ + \"static/media/brain-medium.b3dd3229.jpg\";","export default __webpack_public_path__ + \"static/media/clover-small.e1f0c094.jpg\";","export default __webpack_public_path__ + \"static/media/clover-medium.a9b14e6c.jpg\";","export default __webpack_public_path__ + \"static/media/desk-assets-small.869a7683.jpg\";","export default __webpack_public_path__ + \"static/media/desk-assets-medium.aa55326a.jpg\";","export default __webpack_public_path__ + \"static/media/tribal-skull-small.7d91a3a7.jpg\";","export default __webpack_public_path__ + \"static/media/tribal-skull-medium.896a1919.jpg\";","import butterflySmall from './images/blue-butterfly-small.jpg';\r\nimport butterflyMedium from './images/blue-butterfly-medium.jpg';\r\nimport brainSmall from './images/brain-small.jpg';\r\nimport brainMedium from './images/brain-medium.jpg';\r\nimport cloverSmall from './images/clover-small.jpg';\r\nimport cloverMedium from './images/clover-medium.jpg';\r\nimport deskAssetsSmall from './images/desk-assets-small.jpg';\r\nimport deskAssetsMedium from './images/desk-assets-medium.jpg';\r\nimport tribalSkullSmall from './images/tribal-skull-small.jpg';\r\nimport tribalSkullMedium from './images/tribal-skull-medium.jpg';\r\n\r\ninterface imgSizesSrc {\r\n  small: string,\r\n  medium: string,\r\n}\r\n\r\nexport const covers: Map<string, imgSizesSrc> = new Map([\r\n  ['blue-butterfly', { small: butterflySmall, medium: butterflyMedium }],\r\n  ['brain', { small: brainSmall, medium: brainMedium }],\r\n  ['clover', { small: cloverSmall, medium: cloverMedium }],\r\n  ['desk-assets', { small: deskAssetsSmall, medium: deskAssetsMedium }],\r\n  ['tribal-skull', { small: tribalSkullSmall, medium: tribalSkullMedium }],\r\n]);\r\nexport default covers;\r\n\r\n","export interface SearchIconProps {\r\n\r\n}\r\n\r\nconst SearchIcon: React.FC<SearchIconProps> = () => {\r\n  return (\r\n    <svg id=\"i-search\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"100%\" height=\"100%\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <circle cx=\"14\" cy=\"14\" r=\"12\" />\r\n      <path d=\"M23 23 L30 30\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default SearchIcon;","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport CartContext from '../../store/cartContext';\r\nimport ProductModel from '../../helpers/types/ProductModel';\r\nimport styles from './ProductCard.module.scss';\r\nimport covers from '../../assets/images';\r\nimport CartIcon from '../../assets/svg/CartIcon';\r\n\r\nconst { card, cardCover, cardFull, picture, price, productDetails, title } = styles;\r\nconst { toCartBtn } = styles;\r\n\r\ntype cardStyleVersionType = 'full' | 'cover';\r\n\r\ninterface ProductCardType {\r\n  ebook: ProductModel,\r\n  cardStyleVersion: cardStyleVersionType,\r\n  itemWidth?: number,\r\n}\r\n\r\nconst ProductCard: React.FC<ProductCardType> = ({ ebook, cardStyleVersion, itemWidth }) => {\r\n  const cartCtx = useContext(CartContext);\r\n  const cover = covers.get(ebook.cover) || { small: '', medium: '' };\r\n\r\n  return (\r\n    <li className={`${card} ${cardStyleVersion === 'cover' ? cardCover : cardFull}`} style={{ width: `${itemWidth}px` }}>\r\n      {/*--- CARD IS LINK TO PRODUCT PAGE ---*/}\r\n      <Link to={{\r\n        pathname: `/ebook/${ebook.title}-${ebook.author.firstName}-${ebook.author.lastName}`,\r\n        state: {\r\n          id: ebook.id,\r\n        }\r\n      }}>\r\n\r\n        <picture >\r\n          <source srcSet={`${cover.medium}`} media=\"(min-width: 1000px)\" />\r\n          <img src={`${cover.small}`} className={picture} alt=\"\" />\r\n        </picture>\r\n\r\n        <div className={productDetails}>\r\n          <h3 className={title}>{ebook.title}</h3>\r\n          <cite>{`${ebook.author.firstName} ${ebook.author.lastName}`}</cite>\r\n          <div className={price}>{`${ebook.price} z`}</div>\r\n        </div>\r\n      </Link>\r\n\r\n      {/* --- BUTTON ADD TO CART ---  */}\r\n      <button className={toCartBtn} onClick={() => cartCtx.addToCart(ebook)}>\r\n        <CartIcon width={26} height={26} strokeColor='white' />\r\n      </button>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ProductCard;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2AdLA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Backdrop_backdrop__LTdf4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"err\":\"ShowError_err__EB0LS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemList\":\"SliderPage_itemList__1oS7R\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"banner\":\"Banner_banner__3zia2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainPage\":\"Main_mainPage__35gR1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2hrqB\"};","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { db } from '../firebase';\r\nimport { RootState } from '../store/store';\r\n\r\ntype containerState = {\r\n  categories: { category: string, popular: string }[],\r\n  status: string,\r\n  currentRequestId: any,\r\n  error: any,\r\n}\r\n\r\nconst initialState: containerState = {\r\n  categories: [\r\n    {\r\n      category: '',\r\n      popular: ''\r\n    }\r\n  ],\r\n  status: 'idle',\r\n  currentRequestId: undefined,\r\n  error: null,\r\n}\r\n\r\nexport const fetchCategories = createAsyncThunk<any, any, { state: RootState }>(\r\n  'categories/getCategoriesStatus',\r\n  async (params: any, { getState, requestId }) => {\r\n    const { currentRequestId, status } = getState().container;\r\n    if (status !== 'pending' || requestId !== currentRequestId) {\r\n      return;\r\n    }\r\n    let output: any = [];\r\n    const categoriesRef = await db.collection(\"categories\").get();\r\n    await categoriesRef.forEach((doc) => {\r\n      output.push(doc.data());\r\n    })\r\n    return output;\r\n  }\r\n)\r\n\r\n/* --- SLICE --- */\r\n\r\nexport const containerSlice = createSlice({\r\n  name: 'container',\r\n  initialState,\r\n  reducers: {\r\n\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchCategories.pending, (state, action) => {\r\n      if (state.status === 'idle') {\r\n        state.categories = [];\r\n        state.status = 'pending';\r\n        state.currentRequestId = action.meta.requestId;\r\n      }\r\n    })\r\n    builder.addCase(fetchCategories.fulfilled, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.categories = [...action.payload];\r\n        state.status = 'idle';\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n    builder.addCase(fetchCategories.rejected, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.status = 'idle';\r\n        state.error = action.error;\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n  }\r\n});\r\n\r\n/* --- SELECTORS --- */\r\nexport const selectError = (state: RootState) => state.container.error;\r\n\r\n/* --- EXPORTS --- */\r\n//export const { } = sliderSlice.actions;\r\n\r\nexport default containerSlice.reducer;\r\n","import { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport CartContext from '../../store/cartContext';\r\n\r\nimport CartIcon from '../../assets/svg/CartIcon';\r\nimport styles from './Cart.module.scss'\r\n\r\nconst { cartItemsCounter, cartItemsCounterWrapper, cartIcon, cartIconWrapper } = styles;\r\n\r\nfunction Cart() {\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  return (\r\n    <div className={cartIconWrapper}>\r\n      <Link to={'/cart'} className={cartIcon}>\r\n        <CartIcon />\r\n        <div className={cartItemsCounterWrapper}>\r\n          <span className={cartItemsCounter}>{cartCtx.productsInCart.length}</span>\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cart;","import { createSlice } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\n\r\ninterface NavigationState {\r\n  isVisibleNavSP: boolean,\r\n  isVisibleCatSP: boolean,\r\n}\r\n\r\nconst initialState: NavigationState = {\r\n  isVisibleNavSP: false,\r\n  isVisibleCatSP: false,\r\n}\r\n\r\n/* --- SLICE --- */\r\n\r\nexport const navigationSlice = createSlice({\r\n  name: 'navigation',\r\n  initialState,\r\n  reducers: {\r\n    showNavSidePanel: state => {\r\n      state.isVisibleNavSP = !state.isVisibleNavSP;\r\n    },\r\n    showCatSidePanel: state => {\r\n      state.isVisibleCatSP = !state.isVisibleCatSP;\r\n    },\r\n  },\r\n\r\n});\r\n\r\n/* --- SELECTORS --- */\r\nexport const selectIsVisibleNavSP = (state: RootState) => state.navigation.isVisibleNavSP;\r\nexport const selectIsVisibleCatSP = (state: RootState) => state.navigation.isVisibleCatSP;\r\nexport const selectCategories = (state: RootState) => state.container.categories;\r\nexport const selectError = (state: RootState) => state.container.error;\r\n\r\n/* --- EXPORTS --- */\r\n\r\nexport const { showNavSidePanel, showCatSidePanel } = navigationSlice.actions;\r\nexport default navigationSlice.reducer;\r\n","import styles from './Backdrop.module.scss';\r\n\r\nconst { backdrop } = styles;\r\n\r\nexport interface BackdropProps {\r\n\r\n}\r\n\r\nconst Backdrop: React.FC<BackdropProps> = () => {\r\n  return (<div className={backdrop}>\r\n\r\n  </div>);\r\n}\r\n\r\nexport default Backdrop;","import { Link } from 'react-router-dom';\r\nimport useWidth from '../../helpers/useWidth';\r\nimport styles from './NavComponent.module.scss'\r\n\r\nconst { arrow, content, navComponent } = styles;\r\n\r\nconst NavComponent: React.FC<{ name: string, onClick: () => void, onClickDesktop?: () => void, extended?: boolean }> = ({ name, onClick, onClickDesktop, extended }) => {\r\n  const { currWidth } = useWidth();\r\n\r\n  return (\r\n    <Link\r\n      to={'/catalog/' + name}\r\n      className={`${navComponent} ${extended ? arrow : null}`}\r\n      onClick={currWidth < 950 ? onClick : onClickDesktop}>\r\n      <div className={content}>{name}</div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default NavComponent;\r\n","import { useAppSelector, useAppDispatch } from '../../helpers/types/hooks';\r\n\r\nimport { showNavSidePanel, showCatSidePanel } from './navigationSlice';\r\nimport { selectIsVisibleNavSP, selectIsVisibleCatSP } from './navigationSlice';\r\n\r\nimport Backdrop from '../../commonComponents/backdrop/Backdrop';\r\nimport NavComponent from './NavComponent';\r\n\r\nimport CloseIcon from '../../assets/svg/CloseIcon';\r\nimport styles from './NavSidePanel.module.scss';\r\n\r\nconst { header, productType, sidePanel, showSidePanel, closeIcon } = styles;\r\n\r\nfunction NavSidePanel() {\r\n  const isVisible = useAppSelector(selectIsVisibleNavSP);\r\n  const isVisibleCat = useAppSelector(selectIsVisibleCatSP);\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <>\r\n      {isVisible ? <Backdrop /> : null}\r\n      <nav className={`${sidePanel} ${isVisible ? showSidePanel : null}`} >\r\n        <div className={header}>\r\n          <div className={productType}>Ebooki</div>\r\n          <div className={closeIcon} onClick={() => dispatch(showNavSidePanel())}>\r\n            <CloseIcon />\r\n          </div>\r\n        </div>\r\n        <NavComponent name=\"Kategorie\" extended={true}\r\n          onClick={() => { dispatch(showCatSidePanel()); dispatch(showNavSidePanel()) }}\r\n          onClickDesktop={() => { return isVisibleCat ? null : dispatch(showCatSidePanel()) }} />\r\n        <NavComponent name=\"Wszystkie Ebooki\" onClick={() => { dispatch(showNavSidePanel()) }} />\r\n        <NavComponent name=\"Promocje\" onClick={() => { dispatch(showNavSidePanel()) }} />\r\n        <NavComponent name=\"Nowoci\" onClick={() => { dispatch(showNavSidePanel()) }} />\r\n        <NavComponent name=\"Top 100\" onClick={() => { dispatch(showNavSidePanel()) }} />\r\n        <NavComponent name=\"Darmowe ebooki\" onClick={() => { dispatch(showNavSidePanel()) }} />\r\n      </nav>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NavSidePanel;\r\n","import { useEffect } from 'react';\r\nimport { useAppSelector, useAppDispatch } from '../../helpers/types/hooks';\r\nimport { showCatSidePanel } from './navigationSlice';\r\nimport { selectIsVisibleCatSP, selectCategories, selectError } from './navigationSlice';\r\nimport useWidth from '../../helpers/useWidth';\r\n\r\nimport Backdrop from '../../commonComponents/backdrop/Backdrop';\r\nimport ShowError from '../../commonComponents/showError/ShowError';\r\nimport NavComponent from './NavComponent';\r\nimport styles from './CategorySidePanel.module.scss';\r\n\r\nconst { categorySidePanel, showSidePanel, headElement, content } = styles;\r\n\r\nfunction CategoryPanel() {\r\n  const isVisibleCat = useAppSelector(selectIsVisibleCatSP);\r\n  const categories = useAppSelector(selectCategories)\r\n  const fetchError = useAppSelector(selectError);\r\n  const dispatch = useAppDispatch();\r\n  const { currWidth } = useWidth();\r\n\r\n  useEffect(() => {\r\n    if (isVisibleCat && currWidth >= 950) window.addEventListener('click', () => dispatch(showCatSidePanel()), { once: true });\r\n  }, [isVisibleCat, dispatch])\r\n\r\n  return (\r\n    <>\r\n      {isVisibleCat && currWidth < 950 ? <Backdrop /> : null}\r\n      <div className={`${categorySidePanel} ${isVisibleCat ? showSidePanel : null}`}>\r\n        <div className={headElement} onClick={() => dispatch(showCatSidePanel())}>\r\n          <div className={content}>Powrt</div>\r\n        </div>\r\n        {fetchError ? <ShowError /> : categories.map(item => { return <NavComponent key={item.category} name={item.category} onClick={() => dispatch(showCatSidePanel())} /> })}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CategoryPanel;","export interface MenuIconProps {\r\n\r\n}\r\n\r\nconst MenuIcon: React.FC<MenuIconProps> = () => {\r\n  return (\r\n    <svg id=\"i-menu\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <path d=\"M4 8 L28 8 M4 16 L28 16 M4 24 L28 24\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default MenuIcon;","import { useAppDispatch } from '../../helpers/types/hooks';\r\nimport { showNavSidePanel } from './navigationSlice';\r\n\r\nimport NavSidePanel from './NavSidePanel';\r\nimport CategoryPanel from './CategorySidePanel'\r\nimport MenuIcon from '../../assets/svg/MenuIcon';\r\nimport styles from './Navigation.module.scss'\r\n\r\nfunction Navigation() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { navIcon, navIconWrapper } = styles;\r\n\r\n  return (\r\n    <>\r\n      <div className={navIconWrapper} onClick={() => dispatch(showNavSidePanel())}>\r\n        <div className={navIcon}>\r\n          <MenuIcon />\r\n        </div>\r\n      </div>\r\n      <NavSidePanel />\r\n      <CategoryPanel />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Navigation;","import { lazy, Suspense, useEffect } from 'react';\r\nimport { useAppSelector, useAppDispatch } from '../../helpers/types/hooks';\r\nimport useWidth from '../../helpers/useWidth';\r\n\r\nimport { selectShowSearchBar, setShowSearchBar } from './searcherSlice';\r\n\r\nimport SearchIcon from '../../assets/svg/SearchIcon';\r\nimport styles from './Searcher.module.scss';\r\n\r\nconst SearchBar = lazy(() => import('./SearchBar'));\r\n\r\nconst { searchIcon, searchWrapper } = styles;\r\n\r\nfunction Searcher() {\r\n  const dispatch = useAppDispatch();\r\n  const isVisible = useAppSelector(selectShowSearchBar);\r\n  const { currWidth, prevWidth } = useWidth();\r\n\r\n  useEffect(() => {\r\n    if (currWidth < 950 && prevWidth >= 950) dispatch(setShowSearchBar(false));\r\n    if (currWidth >= 950) dispatch(setShowSearchBar(true));\r\n  }, [currWidth, prevWidth, dispatch])\r\n\r\n  return (\r\n    <>\r\n      <div className={searchWrapper} onClick={() => { dispatch(setShowSearchBar()) }}>\r\n        <div className={searchIcon}>\r\n          <SearchIcon />\r\n        </div>\r\n      </div>\r\n      {isVisible ? <Suspense fallback={<div>Loading...</div>}><SearchBar /></Suspense> : null}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Searcher;","export interface UserIconProps {\r\n\r\n}\r\n\r\nconst UserIcon: React.FC<UserIconProps> = () => {\r\n  return (\r\n    <svg id=\"i-user\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <path d=\"M22 11 C22 16 19 20 16 20 13 20 10 16 10 11 10 6 12 3 16 3 20 3 22 6 22 11 Z M4 30 L28 30 C28 21 22 20 16 20 10 20 4 21 4 30 Z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default UserIcon;","import { Link } from 'react-router-dom';\r\n\r\nimport UserIcon from '../../assets/svg/UserIcon';\r\nimport styles from './User.module.scss';\r\n\r\nconst { userIcon, userIconWrapper } = styles;\r\n\r\nfunction User() {\r\n  return (\r\n    <div className={userIconWrapper}>\r\n      <Link to=\"/sign-page\" className={userIcon}>\r\n        <UserIcon />\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default User;","import { Link } from 'react-router-dom';\r\n\r\nimport styles from './Logo.module.scss'\r\n\r\nconst { logo, logoWrapper } = styles;\r\n\r\nfunction Logo() {\r\n  return (\r\n    <div className={logoWrapper}>\r\n      <Link className={logo} to='/'>\r\n        Wob&shy;Clone\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Logo;","import { useEffect } from 'react';\r\nimport { useAppDispatch } from '../helpers/types/hooks';\r\n\r\nimport { fetchCategories } from './containerSlice';\r\n\r\nimport styles from './Header.module.scss';\r\nimport Cart from '../features/cart/Cart';\r\nimport Navigation from '../features/navigation/Navigation';\r\nimport Searcher from '../features/searcher/Searcher';\r\nimport User from '../features/user/User';\r\nimport Logo from '../commonComponents/logo/Logo';\r\n\r\n\r\nfunction Header() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchCategories(''));\r\n  }, [dispatch])\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <Navigation />\r\n      <Logo />\r\n      <Searcher />\r\n      <User />\r\n      <Cart />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\nimport { db } from '../../firebase';\r\nimport ProductModel from '../../helpers/types/ProductModel';\r\n\r\n// Define a type for the slice state\r\ninterface SliderState {\r\n  products: ProductModel[],\r\n  status: string,\r\n  currentRequestId: any,\r\n  error: any,\r\n}\r\n\r\nexport const fetchRandomEbooks = createAsyncThunk<any, any, { state: RootState }>(\r\n  'sliderEbooks/getDataStatus',\r\n  async (params: { productsCount: number, category: string }, { getState, requestId }) => {\r\n    const { currentRequestId, status } = getState().slider;\r\n    if (status !== 'pending' || requestId !== currentRequestId) {\r\n      return;\r\n    }\r\n\r\n    let output: any = [];\r\n    const IDarr: number[] = [];\r\n    let ebooksRef: any;\r\n\r\n    for (let i = 0; IDarr.length < params.productsCount; i++) {\r\n      let randomID: number = Math.floor(Math.random() * (50 - 1) + 1);\r\n      if (IDarr.includes(randomID)) {\r\n        continue;\r\n      } else {\r\n        IDarr.push(randomID);\r\n      }\r\n    }\r\n    for (let i = 0; i <= params.productsCount; i += 10) {\r\n      const endIndex = i + 10;\r\n      const IDarrPortion = IDarr.slice(i, endIndex);\r\n      if (params.category === 'Wszystkie Ebooki') {\r\n        ebooksRef = await db.collection(\"ebooks\").where(\"id\", \"in\", IDarrPortion).get();\r\n      } else {\r\n        ebooksRef = await db.collection(\"ebooks\").where(\"category\", \"==\", params.category).where(\"id\", \"in\", IDarrPortion).get();\r\n      }\r\n\r\n      await ebooksRef.forEach((doc: any) => {\r\n        output.push(doc.data());\r\n      });\r\n    }\r\n\r\n    return output;\r\n  }\r\n)\r\n\r\n\r\n// Define the initial state using that type\r\nconst initialState: SliderState = {\r\n  products: [],\r\n  status: 'idle',\r\n  currentRequestId: undefined,\r\n  error: null,\r\n}\r\n\r\n\r\nexport const sliderSlice = createSlice({\r\n  name: 'slider',\r\n  initialState,\r\n  reducers: {\r\n\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder.addCase(fetchRandomEbooks.pending, (state, action) => {\r\n      if (state.status === 'idle') {\r\n        state.products = [];\r\n        state.status = 'pending';\r\n        state.currentRequestId = action.meta.requestId;\r\n      }\r\n    })\r\n    builder.addCase(fetchRandomEbooks.fulfilled, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.products = [...action.payload];\r\n        state.status = 'idle';\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n    builder.addCase(fetchRandomEbooks.rejected, (state, action) => {\r\n      const { requestId } = action.meta;\r\n      if (state.status === 'pending' && state.currentRequestId === requestId) {\r\n        state.status = 'idle';\r\n        state.error = action.error;\r\n        state.currentRequestId = undefined;\r\n      }\r\n    })\r\n  }\r\n});\r\n\r\n//export const { } = sliderSlice.actions;\r\n\r\nexport const selectProducts = (state: RootState) => state.slider.products;\r\nexport const selectError = (state: RootState) => state.slider.error;\r\n\r\n\r\n\r\nexport default sliderSlice.reducer;\r\n","import styles from './SliderPage.module.scss'\r\n\r\nconst { itemList } = styles;\r\n\r\nconst SliderPage: React.FC<{ slidePage: number }> = ({ slidePage, children }) => {\r\n  return (\r\n    <ul className={itemList} style={{ transform: `translateX(${slidePage * -100}%)` }}>\r\n      {children}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default SliderPage;","import { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { useAppSelector, useAppDispatch } from '../../helpers/types/hooks';\r\n\r\nimport { selectProducts, selectError, fetchRandomEbooks } from './sliderSlice';\r\n\r\nimport ProductCard from '../../commonComponents/productCard/ProductCard';\r\nimport ShowError from '../../commonComponents/showError/ShowError';\r\nimport SliderPage from './SliderPage';\r\n\r\nimport styles from './Slider.module.scss';\r\n\r\nconst { slider, arrow, leftArr, rightArr, pagesContainer, sliderPages, sliderPage, active } = styles;\r\n\r\nconst Slider: React.FC = () => {\r\n  const [slidePage, setSlidePage] = useState(0);\r\n  const [pagesArray, setPagesArray] = useState([]);\r\n\r\n  const dispatch = useAppDispatch();\r\n  const products = useAppSelector(selectProducts);\r\n  const fetchError = useAppSelector(selectError);\r\n  const pagesContRef = useRef<HTMLDivElement>(null);\r\n\r\n  // function for changing slider pages\r\n  const turnPage = (count: number) => {\r\n    if (count >= 100) {\r\n      setSlidePage(count - 100);\r\n    } else if (slidePage === 0 && count < 0) {\r\n      setSlidePage(pagesArray.length - 1);\r\n    } else if (slidePage === pagesArray.length - 1 && count !== -1) {\r\n      setSlidePage(0);\r\n    } else {\r\n      setSlidePage(prevCount => prevCount + count);\r\n    }\r\n  }\r\n\r\n  //function calculate and fill number of pages and it elements\r\n  const createPages = useCallback(() => {\r\n    const itemWidth: number = 90;\r\n    let maxItemsCountPerPage = Math.floor(pagesContRef.current!.offsetWidth / itemWidth - 1);\r\n    let pagesCount = Math.ceil(products.length / maxItemsCountPerPage);\r\n    let index = 0;\r\n    let pagesArr: any = [];\r\n\r\n    for (let i = 0; i < pagesCount; i++) {\r\n      const itemsForPageArr = [];\r\n\r\n      for (let i = 0; i < maxItemsCountPerPage; i++) {\r\n        if (index === products.length) break;\r\n        itemsForPageArr.push(<ProductCard key={products[index].id} ebook={products[index]} cardStyleVersion='cover' itemWidth={itemWidth} />);\r\n        index++;\r\n      }\r\n\r\n      pagesArr.push(itemsForPageArr);\r\n    }\r\n    setPagesArray(pagesArr);\r\n  }, [products]);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchRandomEbooks({ productsCount: 12, category: 'Wszystkie Ebooki' }));\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    if (!fetchError) createPages();\r\n  }, [createPages])\r\n\r\n\r\n  return (\r\n    <div className={slider}>\r\n      {/* slider pages */}\r\n      <div className={pagesContainer} ref={pagesContRef} >\r\n        {fetchError ? <ShowError /> : pagesArray.map((item, index) => { return <SliderPage key={index} slidePage={slidePage}>{item}</SliderPage> })}\r\n      </div>\r\n\r\n      {/* elements for selecting page  */}\r\n      <ul className={sliderPages}>\r\n        {pagesArray.map((item, index) => {\r\n          return <li\r\n            key={Math.random()}\r\n            className={`${sliderPage} ${slidePage === index ? active : null}`}\r\n            onClick={() => turnPage(index + 100)} />\r\n        })}\r\n      </ul>\r\n\r\n      {/* elements for turning page*/}\r\n      <span className={`${arrow} ${leftArr} `} onClick={() => turnPage(-1)}>&lt;</span>\r\n      <span className={`${arrow} ${rightArr}`} onClick={() => turnPage(1)}>&gt;</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Slider;","import styles from './Banner.module.scss';\r\n\r\nfunction Banner() {\r\n  return (\r\n    <div className={styles.banner} >\r\n      blavla\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Banner;","import Slider from '../slider/Slider';\r\nimport Banner from '../banner/Banner';\r\n\r\nimport styles from './StartPage.module.scss';\r\n\r\nconst { } = styles;\r\n\r\nexport interface StartPageProps {\r\n\r\n}\r\n\r\nconst StartPage: React.FC<StartPageProps> = () => {\r\n  return (\r\n    <>\r\n      <Slider />\r\n      <Banner />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default StartPage;","import React, { Suspense } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\n\r\nimport StartPage from '../features/startPage/StartPage'\r\nimport styles from './Main.module.scss';\r\n\r\nconst Catalog = React.lazy(() => import('../features/catalog/Catalog'));\r\nconst ProductPage = React.lazy(() => import('../features/productPage/ProductPage'));\r\n\r\nconst { mainPage } = styles;\r\n\r\nfunction Main() {\r\n\r\n  return (\r\n    <main className={mainPage} >\r\n      <Suspense fallback={<div>Loading...</div>}>\r\n        <Switch>\r\n          <Route path=\"/catalog/:tag\" exact><Catalog /></Route>\r\n          <Route path=\"/ebook/:tags\" exact render={(props) => <ProductPage {...props} />} />\r\n          <Route path=\"/\"><StartPage /></Route>\r\n        </Switch>\r\n      </Suspense>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","import { Route, Redirect } from 'react-router-dom';\r\nimport { useAuth } from '../../store/AuthContext';\r\n\r\nexport interface PrivateRouteProps {\r\n  component: any,\r\n  path: string,\r\n}\r\n\r\nconst PrivateRoute: React.FC<PrivateRouteProps> = ({ component: Component, ...rest }) => {\r\n  const { currentUser } = useAuth();\r\n\r\n  return (<Route {...rest} render={props => currentUser ? <Component {...props} /> : <Redirect to=\"/sign-page\" />} />)\r\n}\r\n\r\nexport default PrivateRoute;","import React, { Suspense } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport Header from './containers/Header';\r\nimport Main from './containers/Main';\r\nimport PrivateRoute from './commonComponents/privateRoute/PrivateRoute';\r\nimport styles from './App.module.scss';\r\n\r\nconst SignPage = React.lazy(() => import('./containers/SignPage'));\r\nconst CartPage = React.lazy(() => import('./features/cart/CartPage'));\r\nconst PaymentPage = React.lazy(() => import('./features/cart/paymentPage/PaymentPage'));\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div className={styles.app}>\r\n        <Suspense fallback={<div>Loading...</div>}>\r\n          <Switch>\r\n            <Route path=\"/sign-page\"><SignPage /></Route>\r\n            <Route path=\"/cart\" exact><CartPage /></Route>\r\n            <PrivateRoute path=\"/cart/payment\" component={PaymentPage} />\r\n            <Route path=\"/\" >\r\n              <Header />\r\n              <Main />\r\n            </Route>\r\n          </Switch>\r\n        </Suspense>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\n\r\ninterface ProductCardState {\r\n  productTags: {\r\n    title: string,\r\n    authorFirstName: string,\r\n    authorLastName: string,\r\n  }\r\n}\r\n\r\nconst initialState: ProductCardState = {\r\n  productTags: {\r\n    title: '',\r\n    authorFirstName: '',\r\n    authorLastName: '',\r\n  },\r\n}\r\n\r\n\r\nexport const productCardSlice = createSlice({\r\n  name: 'productCard',\r\n  initialState,\r\n  reducers: {\r\n    setProductTags: (state, action: PayloadAction<{ title: string, authorFirstName: string, authorLastName: string }>) => {\r\n      state.productTags.title = action.payload.title;\r\n      state.productTags.authorFirstName = action.payload.authorFirstName;\r\n      state.productTags.authorLastName = action.payload.authorLastName;\r\n    }\r\n  },\r\n});\r\n\r\nexport const { setProductTags } = productCardSlice.actions;\r\n\r\nexport default productCardSlice.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { combineReducers } from 'redux';\r\n\r\n\r\nimport containerReducer from '../containers/containerSlice';\r\nimport navigationReducer from '../features/navigation/navigationSlice';\r\nimport sliderReducer from '../features/slider/sliderSlice';\r\nimport searcherReducer from '../features/searcher/searcherSlice';\r\nimport catalogReducer from '../features/catalog/catalogSlice';\r\nimport productPageReducer from '../features/productPage/productPageSlice';\r\nimport productCardReducer from '../commonComponents/productCard/productCardSlice';\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  container: containerReducer,\r\n  navigation: navigationReducer,\r\n  slider: sliderReducer,\r\n  searcher: searcherReducer,\r\n  catalog: catalogReducer,\r\n  productPage: productPageReducer,\r\n  productCard: productCardReducer,\r\n})\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n})\r\n\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport default store;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './store/store';\r\nimport { Provider } from 'react-redux';\r\nimport { CartContextProvider } from './store/cartContext';\r\nimport { AuthContextProvider } from './store/AuthContext';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextProvider>\r\n      <Provider store={store}>\r\n        <CartContextProvider>\r\n          <App />\r\n        </CartContextProvider>\r\n      </Provider>\r\n    </AuthContextProvider>,\r\n   </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}