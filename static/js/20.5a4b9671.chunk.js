(this["webpackJsonpwob-clone"]=this["webpackJsonpwob-clone"]||[]).push([[20],{154:function(e,t,a){e.exports={searchBar:"SearchBar_searchBar__3IcAR",wrapper:"SearchBar_wrapper__3LiJI",closeIcon:"SearchBar_closeIcon__2jIbu",searchBtn:"SearchBar_searchBtn__32yJN",searchInput:"SearchBar_searchInput__KkWQ8",searchResultsList:"SearchBar_searchResultsList__1zp_8",underText:"SearchBar_underText__391Le",ellipsis:"SearchBar_ellipsis__3kgRo"}},297:function(e,t,a){"use strict";a.r(t);var n=a(27),r=a(86),c=a(2),o=a(11),u=a(18),s=a(24),i=a(56),l=a(55),h=a(154),f=a.n(h),b=a(1),m=f.a.closeIcon,d=f.a.ellipsis,j=f.a.searchBar,N=f.a.searchBtn,p=f.a.searchInput,O=f.a.searchResultsList,v=f.a.underText,k=f.a.wrapper;t.default=function(){var e=Object(o.a)(),t=Object(o.b)(s.c),a=Object(o.b)(s.d),h=Object(o.b)(s.e),f=Object(c.useRef)([]),_=Object(c.useRef)(null),y=-1;Object(c.useEffect)((function(){e(Object(s.b)(""))}),[e]),Object(c.useEffect)((function(){if(!a)return e(Object(s.h)([]));var n=setTimeout((function(){e(Object(s.h)(function(){var e,n=[],c=[],o=Object(r.a)(t);try{for(o.s();!(e=o.n()).done;){var u=e.value;(u.author.firstName.toLowerCase().includes(a.toLowerCase())||u.author.lastName.toLowerCase().includes(a.toLowerCase()))&&n.push({linkPathName:"/catalog/".concat(u.author.firstName,"-").concat(u.author.lastName),linkContent:{title:null,authorFirstName:u.author.firstName,authorLastName:u.author.lastName},linkState:{authorFirstName:u.author.firstName,authorLastName:u.author.lastName}}),u.title.toLowerCase().includes(a.toLowerCase())&&c.push({linkPathName:"/ebook/".concat(u.title,"-").concat(u.author.firstName,"-").concat(u.author.lastName),linkContent:{title:u.title,authorFirstName:u.author.firstName,authorLastName:u.author.lastName},linkState:{title:u.title,authorFirstName:u.author.firstName,authorLastName:u.author.lastName}})}}catch(s){o.e(s)}finally{o.f()}return[].concat(n,c)}()))}),500);return window.addEventListener("click",(function(){e(Object(s.h)([]))}),{once:!0}),function(){return clearTimeout(n)}}),[a,e]);var w=function(e){e.currentTarget.focus(),y=f.current.indexOf(e.currentTarget)};return Object(b.jsx)("div",{className:j,onKeyDown:function(e){var t,a=null;if(40===e.keyCode||38===e.keyCode)return 40===e.keyCode&&y<h.length-1&&y++,38===e.keyCode&&y>0&&y--,h.length>0&&(a=null===(t=f.current[y])||void 0===t?void 0:t.focus()),a},tabIndex:-1,children:Object(b.jsxs)("div",{className:k,children:[Object(b.jsx)("button",{className:N,children:Object(b.jsx)(i.a,{})}),Object(b.jsx)("input",{className:p,ref:_,type:"text",autoComplete:"off",placeholder:"Szukaj",name:"searchField",onChange:function(t){e(Object(s.g)(t.target.value))}}),Object(b.jsx)("button",{className:m,onClick:function(){e(Object(s.i)())},children:Object(b.jsx)(l.a,{})}),h.length>0?Object(b.jsx)("ul",{className:O,onMouseLeave:function(){var e,t;null===(e=f.current[y])||void 0===e||e.blur(),null===(t=_.current)||void 0===t||t.focus(),y=-1},children:h.map((function(e,t){return Object(b.jsx)("li",{children:Object(b.jsxs)(u.b,{to:{pathname:e.linkPathName,state:Object(n.a)({},e.linkState)},ref:function(e){return f.current[t]=e},onMouseEnter:w,children:[e.linkContent.title?Object(b.jsx)("div",{className:d,children:e.linkContent.title}):null,Object(b.jsx)("div",{className:"".concat(e.linkContent.title?v:null),children:"".concat(e.linkContent.authorFirstName," ").concat(e.linkContent.authorLastName)})]})},t)}))}):null]})})}},86:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(40);function r(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Object(n.a)(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return u=e.done,e},e:function(e){s=!0,o=e},f:function(){try{u||null==a.return||a.return()}finally{if(s)throw o}}}}}}]);
//# sourceMappingURL=20.5a4b9671.chunk.js.map