{"version":3,"sources":["features/catalog/ActiveFilters.module.scss","features/catalog/FilterOptions.module.scss","features/catalog/CategoriesList.module.scss","features/catalog/Pagination.module.scss","features/catalog/Catalog.module.scss","assets/svg/OptionsIcon.tsx","features/catalog/ActiveFilters.tsx","features/catalog/FilterOptions.tsx","features/catalog/CategoriesList.tsx","features/catalog/Pagination.tsx","features/catalog/Catalog.tsx","pages/catalogPage/CatalogPage.tsx"],"names":["module","exports","OptionsIcon","id","xmlns","viewBox","width","height","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","activeFiltersList","styles","activeFilter","btnFiltersPanel","content","productType","removeBtn","wrapper","ActiveFilters","dispatch","useAppDispatch","filters","useAppSelector","selectFilters","useLocation","search","className","onClick","setShowFilterOptions","Object","entries","map","item","filterType","filterValue","to","pathname","category","setFilters","filter","value","CloseIcon","strokeColor","arrow","clearFiltersBtn","filtersGroup","flexVCenter","optionsGroup","panelHead","shiftBtn","shiftBtnActive","show","showCategoryListBtn","title","titleWrap","FilterOptions","useGetCategoriesQuery","data","categories","isVisible","selectShowFilterOptions","ChevronLeft","promotion","setShowCategoriesPanel","popular","categoryList","catListItemLink","catListItemWarp","CategoriesList","showClass","selectShowCategoriesPanel","active","dots","paginationWrapper","Pagination","pagesCount","page","setPage","liRef","useRef","handleSetPage","e","target","innerText","prevPage","ref","current","ChevronRight","containerCards","containerCardsWrapper","Catalog","location","useGetEbooksQuery","ebooksData","promotionsData","useGetPromotionsQuery","useState","filteredProducts","selectFilteredProducts","searchQuery","filterTag","state","tag","Math","ceil","length","displayProducts","slice","useEffect","filterProducts","products","promotions","query","URLSearchParams","param","sortProducts","ebook","ProductCard","cardStyleVersion","CatalogPage","MainLayout"],"mappings":"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","file":"static/js/8.6ecab116.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ActiveFilters_wrapper__67ULm\",\"btnFiltersPanel\":\"ActiveFilters_btnFiltersPanel__14cki\",\"activeFiltersList\":\"ActiveFilters_activeFiltersList__3d2zz\",\"activeFilter\":\"ActiveFilters_activeFilter__3jX5m\",\"content\":\"ActiveFilters_content__9g4iK\",\"removeBtn\":\"ActiveFilters_removeBtn__3MzXm\",\"productType\":\"ActiveFilters_productType__rU51h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"flexVCenter\":\"FilterOptions_flexVCenter__29gsE\",\"wrapper\":\"FilterOptions_wrapper__pyvVN\",\"show\":\"FilterOptions_show__BDAgZ\",\"title\":\"FilterOptions_title__195qh\",\"panelHead\":\"FilterOptions_panelHead__3-Fux\",\"titleWrap\":\"FilterOptions_titleWrap__6VRwX\",\"arrow\":\"FilterOptions_arrow__1d_ga\",\"clearFiltersBtn\":\"FilterOptions_clearFiltersBtn__3AqRu\",\"optionsGroup\":\"FilterOptions_optionsGroup__1wNmg\",\"shiftBtn\":\"FilterOptions_shiftBtn__1ANpv\",\"shiftBtnActive\":\"FilterOptions_shiftBtnActive__2EkSL\",\"filtersGroup\":\"FilterOptions_filtersGroup__1hFbu\",\"filter\":\"FilterOptions_filter__3JWRj\",\"showCategoryListBtn\":\"FilterOptions_showCategoryListBtn__nRnhI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"CategoriesList_wrapper__3gzEH\",\"show\":\"CategoriesList_show__2_0GK\",\"title\":\"CategoriesList_title__2i5S7\",\"panelHead\":\"CategoriesList_panelHead__1cVe5\",\"titleWrap\":\"CategoriesList_titleWrap__1jQF3\",\"arrow\":\"CategoriesList_arrow__3xhjN\",\"clearFiltersBtn\":\"CategoriesList_clearFiltersBtn__1ETO2\",\"categoryList\":\"CategoriesList_categoryList__21z7u\",\"catListItemWarp\":\"CategoriesList_catListItemWarp__3c89r\",\"catListItemLink\":\"CategoriesList_catListItemLink__7oe5q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginationWrapper\":\"Pagination_paginationWrapper__3p3Pj\",\"active\":\"Pagination_active__7oAuY\",\"dots\":\"Pagination_dots__brYZM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Catalog_wrapper__Gld0-\",\"containerCardsWrapper\":\"Catalog_containerCardsWrapper__1EmNa\",\"containerCards\":\"Catalog_containerCards__2Z0uA\"};","export interface OptionsIconProps {\r\n\r\n}\r\n\r\nconst OptionsIcon: React.FC<OptionsIconProps> = () => {\r\n  return (\r\n    <svg id=\"i-options\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"20\" height=\"20\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <path d=\"M28 6 L4 6 M28 16 L4 16 M28 26 L4 26 M24 3 L24 9 M8 13 L8 19 M20 23 L20 29\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default OptionsIcon;","import { Link, useLocation } from 'react-router-dom';\r\nimport { useAppSelector, useAppDispatch } from '../../types/hooks';\r\n\r\nimport { setFilters, setShowFilterOptions } from './catalogSlice';\r\nimport { selectFilters } from './catalogSlice';\r\nimport { filterType, filtersT } from './catalogSlice';\r\n\r\nimport CloseIcon from '../../assets/svg/CloseIcon';\r\nimport OptionsIcon from '../../assets/svg/OptionsIcon';\r\nimport styles from './ActiveFilters.module.scss';\r\n\r\nconst { activeFiltersList, activeFilter, btnFiltersPanel, content, productType, removeBtn, wrapper } = styles;\r\n\r\nexport const ActiveFilters = () => {\r\n  const dispatch = useAppDispatch();\r\n  const filters = useAppSelector(selectFilters);\r\n  const searchQuery = useLocation().search;\r\n\r\n  return (\r\n    <aside className={wrapper} >\r\n\r\n      <h2 className={productType}>Ebooki</h2>\r\n      <button className={btnFiltersPanel} onClick={() => dispatch(setShowFilterOptions())}>\r\n        <OptionsIcon />\r\n        <span>Filtry</span>\r\n      </button>\r\n\r\n      <ul className={activeFiltersList}>\r\n        {Object.entries(filters).map((item) => {\r\n          const filterType = item[0] as filterType<filtersT>;\r\n          const filterValue = item[1];\r\n          return (filterValue &&\r\n            <li className={activeFilter} key={filterType} >\r\n              <Link to={{\r\n                pathname: `${filterType === 'category' ? \"/catalog/Wszystkie Ebooki\" : filters.category}`,\r\n                // search: `${filterType === 'searchFilter' ? null : searchQuery}`\r\n              }}\r\n                onClick={() => dispatch(setFilters({ filter: filterType, value: '' }))}>\r\n\r\n                <span className={content}>{filterType === 'category' ? filterValue : filterType}</span>\r\n                <button className={removeBtn}>\r\n                  <CloseIcon strokeWidth={3} strokeColor='#CF2942' />\r\n                </button>\r\n              </Link>\r\n            </li>)\r\n        })}\r\n      </ul>\r\n\r\n    </aside>\r\n  );\r\n}","import { Link } from 'react-router-dom';\r\nimport { useAppSelector, useAppDispatch } from '../../types/hooks';\r\nimport { useGetCategoriesQuery } from '../../services/apiSlice';\r\nimport { setShowFilterOptions, setShowCategoriesPanel, setFilters } from './catalogSlice';\r\nimport { selectFilters, selectShowFilterOptions } from './catalogSlice';\r\nimport ChevronLeft from '../../assets/svg/ChevronLeft';\r\nimport styles from './FilterOptions.module.scss';\r\n\r\nconst { arrow, clearFiltersBtn, filter, filtersGroup, flexVCenter, optionsGroup, panelHead, shiftBtn, shiftBtnActive, show, showCategoryListBtn, title, titleWrap, wrapper } = styles;\r\n\r\nconst FilterOptions: React.FC = () => {\r\n  const { data: categories = [] } = useGetCategoriesQuery('');\r\n  const dispatch = useAppDispatch();\r\n  const isVisible = useAppSelector(selectShowFilterOptions);\r\n  const filters = useAppSelector(selectFilters);\r\n\r\n  return (\r\n    <>\r\n      <div className={`${panelHead} ${isVisible ? show : null}`}>\r\n        <div className={titleWrap} onClick={() => dispatch(setShowFilterOptions())}>\r\n          <div className={arrow}><ChevronLeft /></div>\r\n          <h2>Filtry i kategorie</h2>\r\n        </div>\r\n        <button className={clearFiltersBtn}>Wyczyść filtry</button>\r\n      </div>\r\n\r\n      <div className={`${wrapper} ${isVisible ? show : null}`}>\r\n        <div className={`${optionsGroup} ${flexVCenter}`}>\r\n          <h3 className={title}>Tylko w promocji</h3>\r\n          <button className={`${shiftBtn} ${filters.promotion === 'true' ? shiftBtnActive : null}`} onClick={() => dispatch(setFilters({ filter: 'promotion', value: filters.promotion === 'true' ? '' : 'true' }))} />\r\n        </div>\r\n\r\n        <div className={optionsGroup}>\r\n          <h3 className={title}>Sortuj wg.</h3>\r\n          <ul className={filtersGroup}>\r\n            <li className={filter}><Link to={'?sort=lower-price'}><span>Najniższa cena</span></Link></li>\r\n            <li className={filter}><Link to={'?sort=higher-price'}><span>Nawyższa cena</span></Link></li>\r\n            <li className={filter}><Link to={'?sort=oldest'}><span>Najstarsze</span></Link></li>\r\n          </ul>\r\n        </div>\r\n\r\n        <div className={optionsGroup}>\r\n          <h3 className={title}>Polecane</h3>\r\n          <button className={showCategoryListBtn} onClick={() => dispatch(setShowCategoriesPanel())}>Lista</button>\r\n\r\n          <ul className={filtersGroup}>\r\n            {categories.map(category => {\r\n              return (category.popular &&\r\n                <li className={filter} key={category.category}>\r\n                  {<Link to={'/catalog/' + category.category}\r\n                    onClick={() => dispatch(setFilters({ filter: 'category', value: category.category }))}>\r\n                    <span>{category.category}</span>\r\n                  </Link>}\r\n                </li>)\r\n            })}\r\n          </ul>\r\n        </div>\r\n\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FilterOptions;","import { Link } from 'react-router-dom';\r\nimport { useAppSelector, useAppDispatch } from '../../types/hooks';\r\nimport { useGetCategoriesQuery } from '../../services/apiSlice';\r\nimport { setShowCategoriesPanel, setFilters } from './catalogSlice';\r\nimport { selectShowCategoriesPanel } from './catalogSlice';\r\nimport ChevronLeft from '../../assets/svg/ChevronLeft';\r\nimport styles from './CategoriesList.module.scss';\r\n\r\nconst { arrow, categoryList, catListItemLink, catListItemWarp, clearFiltersBtn, panelHead, show, titleWrap, wrapper } = styles;\r\n\r\nexport const CategoriesList: React.FC = () => {\r\n  const { data: categories = [] } = useGetCategoriesQuery('');\r\n  const dispatch = useAppDispatch();\r\n  const isVisible = useAppSelector(selectShowCategoriesPanel);\r\n  const showClass = isVisible ? show : null;\r\n  return (\r\n    <>\r\n      <div className={`${panelHead} ${showClass}`}  >\r\n        <div className={titleWrap} onClick={() => dispatch(setShowCategoriesPanel())}>\r\n          <div className={arrow}><ChevronLeft /></div>\r\n          <h2>Kategorie</h2>\r\n        </div>\r\n        <button className={clearFiltersBtn}>Wyczyść filtry</button>\r\n      </div>\r\n\r\n      <div className={`${wrapper} ${showClass}`}>\r\n        <ul className={categoryList}>\r\n          <li className={`${catListItemWarp}`}><h3>Popularne kategorie</h3></li>\r\n\r\n          {categories.map((category) => {\r\n            return category.popular &&\r\n              <li key={category.category} className={`${catListItemWarp} ${showClass}`}>\r\n\r\n                {<Link to={'/catalog/' + category.category} className={catListItemLink}\r\n                  onClick={() => dispatch(setFilters({ filter: 'category', value: category.category }))}>\r\n                  {category.category}\r\n                </Link>}\r\n\r\n              </li>\r\n          })}\r\n        </ul>\r\n\r\n        <ul className={categoryList}>\r\n          <li className={catListItemWarp}><h3>Wszystkie kategorie</h3></li>\r\n\r\n          {categories.map(category => (\r\n            <li key={category.category} className={`${catListItemWarp} ${showClass}`}>\r\n\r\n              {<Link to={`${category.category}`} className={catListItemLink}\r\n                onClick={() => dispatch(setFilters({ filter: 'category', value: category.category }))}>\r\n                {category.category}\r\n              </Link>}\r\n\r\n            </li>))}\r\n        </ul>\r\n\r\n      </div>\r\n    </>\r\n  );\r\n}","import { useRef } from 'react';\r\nimport ChevronLeft from '../../assets/svg/ChevronLeft';\r\nimport ChevronRight from '../../assets/svg/ChevronRight';\r\nimport styles from './Pagination.module.scss';\r\n\r\nconst { active, dots, paginationWrapper } = styles;\r\n\r\nexport interface PaginationProps {\r\n  pagesCount: number,\r\n  page: number,\r\n  setPage: (value: number | ((prevVar: number) => number)) => void;\r\n}\r\n\r\nconst Pagination: React.FC<PaginationProps> = ({ pagesCount, page, setPage }) => {\r\n  const liRef = useRef<HTMLLIElement[]>([]);\r\n  const handleSetPage = (e: any) => {\r\n    setPage(e.target.innerText * 1)\r\n  }\r\n\r\n  return (\r\n    <ul className={paginationWrapper}>\r\n      <li onClick={() => { return page <= 1 ? null : setPage(prevPage => --prevPage) }}>\r\n        <ChevronLeft />\r\n      </li>\r\n\r\n      {page > 3 ? <li onClick={() => setPage(1)} ref={(e: any) => liRef.current[0] = e}><span>1</span></li> : null}\r\n\r\n      {page > 3 ? <li className={dots}><span>...</span></li> : null}\r\n      {page > 2 ? <li onClick={handleSetPage} ref={(e: any) => liRef.current[1] = e}><span>{page - 2}</span></li> : null}\r\n      {page > 1 ? <li onClick={handleSetPage} ref={(e: any) => liRef.current[2] = e}><span>{page - 1}</span></li> : null}\r\n      <li className={active} onClick={handleSetPage} ref={(e: any) => liRef.current[3] = e}><span>{page}</span></li>\r\n      {pagesCount - page >= 1 ? <li onClick={handleSetPage} ref={(e: any) => liRef.current[4] = e}><span>{page + 1}</span></li> : null}\r\n      {pagesCount - page > 2 ? <li onClick={handleSetPage} ref={(e: any) => liRef.current[5] = e}><span>{page + 2}</span></li> : null}\r\n      {pagesCount - page > 3 ? <li className={dots}><span>...</span></li> : null}\r\n\r\n      {pagesCount - page > 1 ? <li onClick={() => setPage(pagesCount)} ref={(e: any) => liRef.current[6] = e}><span>{pagesCount}</span></li> : null}\r\n\r\n      <li onClick={() => { return page >= pagesCount ? null : setPage(prevPage => ++prevPage) }} >\r\n        <ChevronRight />\r\n      </li>\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Pagination;","import { useState, useEffect } from 'react';\r\nimport { useAppSelector, useAppDispatch } from '../../types/hooks';\r\n\r\nimport { useGetEbooksQuery, useGetPromotionsQuery } from '../../services/apiSlice';\r\nimport { sortProducts, filterProducts, setFilters } from './catalogSlice';\r\nimport { selectFilteredProducts, selectFilters } from './catalogSlice';\r\n\r\nimport { ProductModel } from '../../types/types';\r\n\r\nimport ProductCard from '../../components/productCard/ProductCard';\r\nimport { ActiveFilters } from './ActiveFilters';\r\nimport FilterOptions from './FilterOptions';\r\nimport { CategoriesList } from './CategoriesList';\r\nimport Pagination from './Pagination';\r\nimport styles from './Catalog.module.scss';\r\n\r\nconst { containerCards, containerCardsWrapper, wrapper } = styles;\r\n\r\n\r\nconst Catalog: React.FC<{ location: any }> = ({ location }) => {\r\n  const { data: ebooksData = [] } = useGetEbooksQuery('');\r\n  const { data: promotionsData } = useGetPromotionsQuery('');\r\n  const [page, setPage] = useState<number>(1);\r\n\r\n  const dispatch = useAppDispatch();\r\n  const filteredProducts = useAppSelector(selectFilteredProducts);\r\n  const filters = useAppSelector(selectFilters);\r\n  const searchQuery = location.search;\r\n  const filterTag: string = location.state?.tag ?? '';\r\n\r\n  let itemsPerPage = 4;\r\n  let pagesCount: number = Math.ceil(filteredProducts.length / itemsPerPage) || 0;\r\n  let displayProducts: ProductModel[] = filteredProducts.slice(itemsPerPage * page - itemsPerPage, itemsPerPage * page) || [];\r\n\r\n  useEffect(() => {\r\n    dispatch(setFilters({ filter: 'category', value: filterTag }))\r\n  }, [filterTag, dispatch])\r\n\r\n  useEffect(() => {\r\n    if (promotionsData) {\r\n      dispatch(filterProducts({ products: ebooksData, promotions: promotionsData }));\r\n    }\r\n  }, [filters, ebooksData, promotionsData, dispatch])\r\n\r\n  useEffect(() => {\r\n    const query = new URLSearchParams(searchQuery);\r\n    for (let param of query.entries()) {\r\n      dispatch(sortProducts(param[1]));\r\n    }\r\n  }, [searchQuery, dispatch]);\r\n\r\n  return (\r\n    <div className={wrapper}>\r\n      <ActiveFilters />\r\n      <div className={containerCardsWrapper}>\r\n        <ul className={containerCards}>\r\n          {displayProducts.length > 0 && displayProducts.map(ebook => {\r\n            return <ProductCard key={ebook.id} ebook={ebook} cardStyleVersion='full' />\r\n          })}\r\n        </ul>\r\n        {displayProducts.length && <Pagination pagesCount={pagesCount} page={page} setPage={setPage} />}\r\n      </div>\r\n\r\n      <FilterOptions />\r\n      <CategoriesList />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Catalog;\r\n\r\n","import MainLayout from \"../../layouts/mainLayout/MainLayout\";\r\nimport Catalog from \"../../features/catalog/Catalog\";\r\n\r\nconst CatalogPage: React.FC<{ location: any }> = ({ location }) => {\r\n  return (\r\n    <MainLayout>\r\n      <Catalog location={location} />\r\n    </MainLayout>\r\n  );\r\n}\r\n\r\nexport default CatalogPage;"],"sourceRoot":""}