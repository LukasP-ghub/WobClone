{"version":3,"sources":["features/navigation/navigationSlice.ts","types/hooks.ts","utils/normalizeFirestoreRes.js","services/apiSlice.ts","features/searcher/searcherSlice.ts","features/appHeader/AppHeader.module.scss","features/searcher/SearchBar.module.scss","components/productCard/ProductCard.module.scss","constants/constants.ts","features/navigation/NavPanel.module.scss","features/navigation/CategoryPanel.module.scss","features/slider/Pagination.module.scss","contexts/cartContext.tsx","hooks/useWidth.tsx","features/navigation/NavItem.module.scss","components/loadingSpinner/LoadingSpinner.module.scss","services/firebase.js","contexts/AuthContext.tsx","assets/svg/ChevronLeft.tsx","assets/svg/ChevronRight.tsx","assets/svg/CloseIcon.tsx","assets/svg/CartIcon.tsx","features/cart/CartBtn.module.scss","features/slider/Slider.module.scss","features/catalog/catalogSlice.ts","utils/sorting.tsx","features/productDetails/productDetailsSlice.ts","assets/svg/SearchIcon.tsx","features/searcher/SearchBar.tsx","components/HeaderItem/HeaderItem.tsx","assets/svg/MenuIcon.tsx","features/navigation/NavBtn.tsx","features/appHeader/NavItem.tsx","components/logo/Logo.tsx","features/appHeader/LogoItem.tsx","features/searcher/SearchBtn.tsx","features/appHeader/SearchItem.tsx","assets/svg/UserIcon.tsx","features/user/UserBtn.tsx","features/appHeader/UserItem.tsx","features/cart/CartBtn.tsx","features/appHeader/CartItem.tsx","features/navigation/NavItem.tsx","components/backdrop/Backdrop.tsx","features/navigation/NavPanel.tsx","features/navigation/CategoryPanel.tsx","features/appHeader/AppHeader.tsx","layouts/mainLayout/MainLayout.tsx","assets/images/blue-butterfly-small.jpg","assets/images/blue-butterfly-medium.jpg","assets/images/brain-small.jpg","assets/images/brain-medium.jpg","assets/images/clover-small.jpg","assets/images/clover-medium.jpg","assets/images/desk-assets-small.jpg","assets/images/desk-assets-medium.jpg","assets/images/tribal-skull-small.jpg","assets/images/tribal-skull-medium.jpg","assets/images.ts","components/productCard/ProductCard.tsx","components/HeaderItem/HeaderItem.module.scss","components/logo/Logo.module.scss","features/searcher/SearchBtn.module.scss","components/backdrop/Backdrop.module.scss","layouts/mainLayout/MainLayout.module.scss","features/slider/SliderPage.module.scss","App.module.scss","features/slider/SliderPage.tsx","features/slider/Pagination.tsx","features/slider/Slider.tsx","pages/mainPage/MainPage.tsx","components/privateRoute/PrivateRoute.tsx","components/loadingSpinner/LoadingSpinner.tsx","App.tsx","store/appSlice.ts","store/store.ts","serviceWorker.js","index.tsx"],"names":["navigationSlice","createSlice","name","initialState","isVisibleNavSP","isVisibleCatSP","reducers","showNavSidePanel","state","showCatSidePanel","selectIsVisibleNavSP","navigation","selectIsVisibleCatSP","actions","useAppDispatch","useDispatch","useAppSelector","useSelector","normalizeFirestoreRes","item","arr","Object","entries","elem","getOwnPropertyNames","prop","includes","fromEntries","apiSlice","createApi","baseQuery","fetchBaseQuery","baseUrl","reducerPath","endpoints","build","getEbooks","query","param","transformResponse","response","documents","map","fields","getCategories","getPromotions","useGetEbooksQuery","useGetCategoriesQuery","useGetPromotionsQuery","searcherSlice","searchResults","searchKey","showSearchBar","setSearchKey","action","payload","setSearchResults","setShowSearchBar","selectSearchKey","searcher","selectSearchResults","selectShowSearchBar","module","exports","MQBreakpoints","DESKTOP","CartContext","React","createContext","productsInCart","pricing","nominalPrice","actualPrice","totalDiscount","paymentMethod","currentPaymentStep","addToCart","removeFromCart","choosePaymentMethod","handlePaymentStep","CartContextProvider","props","useState","setProductsInCart","setPaymentMethod","setPaymentStep","setPricing","contextValue","product","findIndex","element","id","prevArr","prevObj","Number","price","toFixed","productsInCartCopy","index","splice","option","direction","prevStep","Provider","value","children","getWidth","window","innerWidth","useWidth","currWidth","prevWidth","width","setWidth","useEffect","timeout","resizeListener","clearTimeout","setTimeout","prev","addEventListener","removeEventListener","firebaseApp","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","AuthContext","currentUser","signUp","a","signIn","signOut","useAuth","useContext","AuthContextProvider","setCurrentUser","loading","setLoading","onAuthStateChanged","user","email","password","createUserWithEmailAndPassword","signInWithEmailAndPassword","ChevronLeft","xmlns","viewBox","height","fill","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","ChevronRight","CloseIcon","strokeColor","CartIcon","cx","cy","r","catalogSlice","filteredProducts","filters","category","promotion","showFilterOptions","showCategoriesPanel","setShowFilterOptions","setShowCategoriesPanel","setFilters","filter","sortProducts","sort","b","titleA","title","toUpperCase","titleB","sorting","filterProducts","promCategories","keys","promotions","tempArr","products","reduce","acc","flag","newItem","discount","push","selectShowFilterOptions","catalog","selectShowCategoriesPanel","selectFilteredProducts","selectFilters","productDetailsSlice","showSidePanel","sidePanelContent","subtitle","body","setShowSidePanel","setSidePanelContent","selectShowSidePanel","productDetails","selectSidePanelContent","SearchIcon","closeIcon","styles","ellipsis","searchBar","searchBtn","searchInput","searchInputLabel","searchResultsList","underText","wrapper","SearchBar","data","ebooks","dispatch","isVisible","listElRef","useRef","inputRef","dropdownRef","labelRef","listCursor","useLayoutEffect","current","inputPosition","offsetLeft","style","left","timer","authors","titles","ebook","author","firstName","toLowerCase","lastName","linkPathName","linkContent","authorFirstName","authorLastName","linkState","searchProducts","once","onMouseEnterHandle","e","currentTarget","focus","indexOf","className","onKeyDown","keyCode","length","preventDefault","tabIndex","ref","type","autoComplete","placeholder","onChange","target","onClick","onMouseLeave","blur","to","pathname","onMouseEnter","itemWrapper","HeaderItem","classes","MenuIcon","NavBtn","navItemWrapper","NavItem","logo","Logo","logoItemWrapper","LogoItem","SearchBtn","searchItemWrapper","UserIcon","UserBtn","userItemWrapper","cartItemsCounter","cartItemsCounterWrapper","cartIcon","CartBtn","cartCtx","cartItemWrapper","CartItem","arrow","content","navComponent","opposite","urlTag","tag","extend","onClickDesktop","callback","backdrop","Backdrop","header","linksContainer","productType","sidePanel","NavPanel","isVisibleCat","categorySidePanel","headElement","arrowLeft","CategoryPanel","categoryData","AppHeader","SearchItem","UserItem","mainContent","MainLayout","covers","Map","small","butterflySmall","medium","butterflyMedium","brainSmall","brainMedium","cloverSmall","cloverMedium","deskAssetsSmall","deskAssetsMedium","tribalSkullSmall","tribalSkullMedium","card","cardCover","cardFull","picture","toCartBtn","ProductCard","cardStyleVersion","itemWidth","cover","get","srcSet","media","src","alt","itemList","SliderPage","slidePage","transform","pagesIndicators","pageIndicator","active","leftArr","rightArr","Pagination","pagesArray","turnPage","Math","random","slider","pagesContainer","Slider","itemsCount","setSlidePage","setPagesArray","pagesContRef","createPages","useCallback","maxItemsCountPerPage","floor","offsetWidth","pagesCount","ceil","itemsCounter","pagesArr","i","itemsForPageArr","count","prevCount","MainPage","ebooksData","isError","isLoading","PrivateRoute","Component","component","rest","render","spinner","dot","LoadingSpinner","dots","Array","ProductPage","lazy","SignInPage","SignUpPage","CartPage","PaymentPage","CatalogPage","App","fallback","app","path","exact","appSlice","categories","popular","rootReducer","combineReducers","container","containerReducer","navigationReducer","searcherReducer","catalogReducer","productDetailsReducer","appSliceReducer","reducer","store","configureStore","middleware","getDefaultMiddleware","concat","Boolean","location","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.0a1a6282.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\n\r\ninterface NavigationState {\r\n  isVisibleNavSP: boolean,\r\n  isVisibleCatSP: boolean,\r\n}\r\n\r\nconst initialState: NavigationState = {\r\n  isVisibleNavSP: false,\r\n  isVisibleCatSP: false,\r\n}\r\n\r\nexport const navigationSlice = createSlice({\r\n  name: 'navigation',\r\n  initialState,\r\n  reducers: {\r\n    showNavSidePanel: state => {\r\n      state.isVisibleNavSP = !state.isVisibleNavSP;\r\n    },\r\n    showCatSidePanel: state => {\r\n      state.isVisibleCatSP = !state.isVisibleCatSP;\r\n    },\r\n  },\r\n\r\n});\r\n\r\n\r\nexport const selectIsVisibleNavSP = (state: RootState) => state.navigation.isVisibleNavSP;\r\nexport const selectIsVisibleCatSP = (state: RootState) => state.navigation.isVisibleCatSP;\r\n\r\n\r\nexport const { showNavSidePanel, showCatSidePanel } = navigationSlice.actions;\r\nexport default navigationSlice.reducer;\r\n","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\r\nimport type { RootState, AppDispatch } from '../store/store'\r\n\r\n// Use throughout your app instead of plain `useDispatch` and `useSelector`\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector","export const normalizeFirestoreRes = (item) => {\r\n  const arr = Object.entries(item);\r\n  for (let elem of arr) {\r\n    let [prop] = Object.getOwnPropertyNames(elem[1]);\r\n    while (['stringValue', 'integerValue', 'mapValue', 'booleanValue', 'doubleValue', 'fields'].includes(prop)) {\r\n      elem[1] = elem[1][prop];\r\n      [prop] = Object.getOwnPropertyNames(elem[1]);\r\n    }\r\n    if (typeof elem[1] === 'object' && elem[1] !== null) elem[1] = normalizeFirestoreRes(elem[1]);\r\n  }\r\n\r\n  return Object.fromEntries(arr);\r\n}\r\n\r\n","import { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\r\nimport { normalizeFirestoreRes } from '../utils/normalizeFirestoreRes';\r\nimport { ProductCategories, Promotions, ProductModel } from '../types/types';\r\n\r\n\r\nexport const apiSlice = createApi({\r\n  baseQuery: fetchBaseQuery({ baseUrl: `https://firestore.googleapis.com/v1/projects/wobclone-3d29b/databases/(default)/documents/` }),\r\n  reducerPath: 'apiSlice',\r\n  endpoints: (build) => ({\r\n    getEbooks: build.query<ProductModel[], string>({\r\n      query: (param: any) => `ebooks?key=AIzaSyBcPWLW6D0lZqB-FyT0Fdtz1XUi0nhS2Zo&pageSize=50`,\r\n      transformResponse(response: { documents: { fields: any }[] }) {\r\n        return response.documents.map(item => normalizeFirestoreRes(item.fields) as ProductModel);\r\n      },\r\n    }),\r\n    getCategories: build.query<ProductCategories[], string>({\r\n      query: (param: any) => `categories?key=AIzaSyBcPWLW6D0lZqB-FyT0Fdtz1XUi0nhS2Zo`,\r\n      transformResponse(response: { documents: { fields: any }[] }) {\r\n        return response.documents.map(item => normalizeFirestoreRes(item.fields) as ProductCategories);\r\n      },\r\n    }),\r\n    getPromotions: build.query<Promotions, string>({\r\n      query: (param: any) => `promotions?key=AIzaSyBcPWLW6D0lZqB-FyT0Fdtz1XUi0nhS2Zo`,\r\n      transformResponse(response: { documents: { fields: any }[] }) {\r\n        return response.documents.map(item => normalizeFirestoreRes(item.fields))[0] as Promotions;\r\n      },\r\n    }),\r\n  }),\r\n})\r\n\r\nexport const { useGetEbooksQuery, useGetCategoriesQuery, useGetPromotionsQuery } = apiSlice;","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\nimport { db } from '../../services/firebase';\r\nimport { sorting } from '../../utils/sorting';\r\nimport { ProductModel } from '../../types/types';\r\n\r\nexport interface SearchResultsPayload {\r\n  linkPathName: string;\r\n  linkContent: {\r\n    title: string | null;\r\n    authorFirstName: string;\r\n    authorLastName: string;\r\n  };\r\n  linkState: {\r\n    authorFirstName: string;\r\n    authorLastName: string;\r\n    title?: string;\r\n  };\r\n}\r\ninterface SearcherState {\r\n  searchResults: SearchResultsPayload[] | [],\r\n  searchKey: string,\r\n  showSearchBar: boolean,\r\n}\r\n\r\nconst initialState: SearcherState = {\r\n  searchResults: [],\r\n  searchKey: '',\r\n  showSearchBar: false,\r\n}\r\n\r\nexport const searcherSlice = createSlice({\r\n  name: 'searcher',\r\n  initialState,\r\n  reducers: {\r\n    setSearchKey: (state, action: PayloadAction<string>) => {\r\n      state.searchKey = action.payload;\r\n    },\r\n    setSearchResults: (state, action: PayloadAction<SearchResultsPayload[] | []>) => {\r\n      state.searchResults = action.payload;\r\n    },\r\n    setShowSearchBar: (state, action: PayloadAction<boolean | undefined>) => {\r\n      state.showSearchBar = action.payload ?? !state.showSearchBar;\r\n    }\r\n  },\r\n});\r\n\r\nexport const selectSearchKey = (state: RootState) => state.searcher.searchKey;\r\nexport const selectSearchResults = (state: RootState) => state.searcher.searchResults;\r\nexport const selectShowSearchBar = (state: RootState) => state.searcher.showSearchBar;\r\n\r\nexport const { setSearchKey, setSearchResults, setShowSearchBar } = searcherSlice.actions;\r\nexport default searcherSlice.reducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppHeader_header__3NM5t\",\"userItemWrapper\":\"AppHeader_userItemWrapper__1jNoE\",\"searchItemWrapper\":\"AppHeader_searchItemWrapper__3tH1F\",\"cartItemWrapper\":\"AppHeader_cartItemWrapper__2qCm6\",\"logoItemWrapper\":\"AppHeader_logoItemWrapper__2D9kG\",\"navItemWrapper\":\"AppHeader_navItemWrapper__2DJsL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__3IcAR\",\"showSearchBar\":\"SearchBar_showSearchBar__2N9Fi\",\"wrapper\":\"SearchBar_wrapper__3LiJI\",\"closeIcon\":\"SearchBar_closeIcon__2jIbu\",\"searchBtn\":\"SearchBar_searchBtn__32yJN\",\"searchInputLabel\":\"SearchBar_searchInputLabel__1AzVh\",\"searchInput\":\"SearchBar_searchInput__KkWQ8\",\"searchResultsList\":\"SearchBar_searchResultsList__1zp_8\",\"underText\":\"SearchBar_underText__391Le\",\"ellipsis\":\"SearchBar_ellipsis__3kgRo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ProductCard_card__15gvw\",\"picture\":\"ProductCard_picture__1mgy6\",\"productDetails\":\"ProductCard_productDetails__2FzR8\",\"title\":\"ProductCard_title__32k4D\",\"price\":\"ProductCard_price__3uI7j\",\"toCartBtn\":\"ProductCard_toCartBtn__3xMeF\",\"cardFull\":\"ProductCard_cardFull__3OjAY\",\"cardCover\":\"ProductCard_cardCover__3dohn\"};","export const MQBreakpoints = {\r\n  DESKTOP: 950,\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidePanel\":\"NavPanel_sidePanel__3LHgk\",\"header\":\"NavPanel_header__2W-vJ\",\"productType\":\"NavPanel_productType__3NEH1\",\"closeIcon\":\"NavPanel_closeIcon__37vfG\",\"linksContainer\":\"NavPanel_linksContainer__1vhKz\",\"showSidePanel\":\"NavPanel_showSidePanel__WeVQv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"categorySidePanel\":\"CategoryPanel_categorySidePanel__jciEC\",\"linksContainer\":\"CategoryPanel_linksContainer__P11op\",\"showSidePanel\":\"CategoryPanel_showSidePanel__34XCy\",\"headElement\":\"CategoryPanel_headElement__1wV6a\",\"content\":\"CategoryPanel_content__162m2\",\"arrowLeft\":\"CategoryPanel_arrowLeft__d5JzM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"arrow\":\"Pagination_arrow__2fMZ9\",\"leftArr\":\"Pagination_leftArr__1VXRL\",\"rightArr\":\"Pagination_rightArr__39KTR\",\"pagesIndicators\":\"Pagination_pagesIndicators__2Qzve\",\"pageIndicator\":\"Pagination_pageIndicator__31WxB\",\"active\":\"Pagination_active__3GiWL\"};","import React, { useState } from 'react';\r\nimport { ProductModel } from '../types/types';\r\n\r\ntype pricingType = {\r\n  nominalPrice: number,\r\n  actualPrice: number,\r\n  totalDiscount: number,\r\n}\r\n\r\ntype ProductContextObj = {\r\n  productsInCart: ProductModel[],\r\n  pricing: pricingType,\r\n  paymentMethod: string,\r\n  currentPaymentStep: number,\r\n  addToCart: (product: ProductModel) => void,\r\n  removeFromCart: (id: number) => void,\r\n  choosePaymentMethod: (option: string) => void,\r\n  handlePaymentStep: (direction: 'next' | 'back') => void\r\n}\r\n\r\nconst CartContext = React.createContext<ProductContextObj>({\r\n  productsInCart: [],\r\n  pricing: {\r\n    nominalPrice: 0,\r\n    actualPrice: 0,\r\n    totalDiscount: 0,\r\n  },\r\n  paymentMethod: '',\r\n  currentPaymentStep: 0,\r\n  addToCart: () => { },\r\n  removeFromCart: () => { },\r\n  choosePaymentMethod: () => { },\r\n  handlePaymentStep: () => { },\r\n});\r\n\r\n\r\nexport const CartContextProvider: React.FC = (props) => {\r\n  const [productsInCart, setProductsInCart] = useState<ProductModel[]>([]);\r\n  const [paymentMethod, setPaymentMethod] = useState<string>('');\r\n  const [currentPaymentStep, setPaymentStep] = useState<number>(2);\r\n  const [pricing, setPricing] = useState<pricingType>({\r\n    nominalPrice: 0,\r\n    actualPrice: 0,\r\n    totalDiscount: 0,\r\n  });\r\n\r\n  const addToCart = (product: ProductModel) => {\r\n    if (productsInCart.findIndex((element) => element.id === product.id) === -1) {\r\n      setProductsInCart(prevArr => [...prevArr, product]);\r\n      setPricing(prevObj => ({\r\n        totalDiscount: 0,\r\n        nominalPrice: Number((prevObj.nominalPrice + Number(product.price)).toFixed(2)),\r\n        actualPrice: Number((prevObj.nominalPrice + Number(product.price)).toFixed(2)),\r\n      }))\r\n    }\r\n  }\r\n\r\n  const removeFromCart = (id: number) => {\r\n    const productsInCartCopy = [...productsInCart];\r\n    const index = productsInCartCopy.findIndex((element) => Number(element.id) === id);\r\n\r\n    if (index > -1) {\r\n      setPricing(prevObj => ({\r\n        totalDiscount: 0,\r\n        nominalPrice: Number((prevObj.nominalPrice - Number(productsInCartCopy[index].price)).toFixed(2)),\r\n        actualPrice: Number((prevObj.nominalPrice - Number(productsInCartCopy[index].price)).toFixed(2)),\r\n      }))\r\n      productsInCartCopy.splice(index, 1);\r\n      setProductsInCart([...productsInCartCopy]);\r\n    }\r\n  }\r\n\r\n  const choosePaymentMethod = (option: string) => {\r\n    setPaymentMethod(option);\r\n  }\r\n\r\n  const handlePaymentStep = (direction: 'next' | 'back') => {\r\n    switch (direction) {\r\n      case 'next': setPaymentStep(prevStep => ++prevStep);\r\n        break;\r\n      case 'back': setPaymentStep(prevStep => --prevStep);\r\n    }\r\n\r\n  }\r\n\r\n  const contextValue: ProductContextObj = {\r\n    productsInCart: productsInCart,\r\n    pricing: pricing,\r\n    paymentMethod: paymentMethod,\r\n    currentPaymentStep: currentPaymentStep,\r\n    addToCart: addToCart,\r\n    removeFromCart: removeFromCart,\r\n    choosePaymentMethod: choosePaymentMethod,\r\n    handlePaymentStep: handlePaymentStep,\r\n  }\r\n\r\n  return <CartContext.Provider value={contextValue}>\r\n    {props.children}\r\n  </CartContext.Provider>\r\n}\r\n\r\nexport default CartContext;","import { useEffect, useState } from 'react';\r\n\r\ntype widthType = {\r\n  currWidth: number,\r\n  prevWidth: number\r\n}\r\n\r\nconst getWidth = () => window.innerWidth;\r\n\r\nconst useWidth = () => {\r\n  const [width, setWidth] = useState<widthType>({ currWidth: getWidth(), prevWidth: getWidth() });\r\n\r\n  useEffect(() => {\r\n    let timeout: any = null;\r\n\r\n    const resizeListener = () => {\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(() => {\r\n        setWidth((prev) => { return { currWidth: getWidth(), prevWidth: prev.currWidth } });\r\n      }, 100);\r\n    }\r\n\r\n    window.addEventListener('resize', resizeListener);\r\n    return () => {\r\n      window.removeEventListener('resize', resizeListener);\r\n    }\r\n  }, [])\r\n\r\n  return width;\r\n}\r\n\r\nexport default useWidth;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navComponent\":\"NavItem_navComponent__18Su1\",\"content\":\"NavItem_content__zWYa1\",\"arrow\":\"NavItem_arrow__3gpXQ\",\"opposite\":\"NavItem_opposite__3-HCk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"LoadingSpinner_wrapper__2TY0q\",\"spinner\":\"LoadingSpinner_spinner__3rDGw\",\"dot\":\"LoadingSpinner_dot__prHI8\",\"animDot\":\"LoadingSpinner_animDot__2ROQJ\",\"dot1\":\"LoadingSpinner_dot1__3Rotl\",\"dot2\":\"LoadingSpinner_dot2__3IN6B\",\"dot3\":\"LoadingSpinner_dot3__3mqsy\",\"dot4\":\"LoadingSpinner_dot4__2qCfR\",\"dot5\":\"LoadingSpinner_dot5__1RDVy\",\"dot6\":\"LoadingSpinner_dot6__VG-e7\",\"dot7\":\"LoadingSpinner_dot7__qaZFx\",\"dot8\":\"LoadingSpinner_dot8__2i0st\",\"dot9\":\"LoadingSpinner_dot9__1KtuV\",\"dot10\":\"LoadingSpinner_dot10__wMUxQ\",\"dot11\":\"LoadingSpinner_dot11__2vGMY\",\"dot12\":\"LoadingSpinner_dot12__1y39J\"};","import firebase from \"firebase/app\";\r\nimport 'firebase/firestore';\r\nimport \"firebase/auth\";\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n  apiKey: \"AIzaSyBcPWLW6D0lZqB-FyT0Fdtz1XUi0nhS2Zo\",\r\n  authDomain: \"wobclone-3d29b.firebaseapp.com\",\r\n  projectId: \"wobclone-3d29b\",\r\n  storageBucket: \"wobclone-3d29b.appspot.com\",\r\n  messagingSenderId: \"225553916464\",\r\n  appId: \"1:225553916464:web:55185a4c2423e19956c3f5\",\r\n  measurementId: \"G-RN8PBF6BH7\"\r\n\r\n})\r\n\r\n/*const firebaseApp = firebase.initializeApp({\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n\r\n}) */\r\n\r\nexport const auth = firebaseApp.auth();\r\nexport const db = firebaseApp.firestore();\r\n\r\n\r\n/*\r\n apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n */","import React, { useContext, useState, useEffect } from 'react';\r\nimport { auth } from '../services/firebase';\r\n\r\ninterface AuthContextProviderProps {\r\n\r\n}\r\n\r\ninterface contextType {\r\n  currentUser: any,\r\n  signUp: (email: string, password: string) => Promise<any>,\r\n  signIn: (email: string, password: string) => Promise<any>,\r\n  signOut: () => Promise<any>,\r\n}\r\n\r\nconst AuthContext = React.createContext<contextType>({\r\n  currentUser: null,\r\n  signUp: async () => { },\r\n  signIn: async () => { },\r\n  signOut: async () => { },\r\n});\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport const AuthContextProvider: React.FC<AuthContextProviderProps> = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState<any>();\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n\r\n  const signUp = (email: string, password: string) => {\r\n    return auth.createUserWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  const signIn = (email: string, password: string) => {\r\n    return auth.signInWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  const signOut = () => {\r\n    return auth.signOut();\r\n  }\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(user => {\r\n      setCurrentUser(user);\r\n      setLoading(false);\r\n    });\r\n\r\n    return unsubscribe;\r\n  }, [])\r\n\r\n\r\n\r\n  const contextValue: contextType = {\r\n    currentUser,\r\n    signUp,\r\n    signIn,\r\n    signOut,\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={contextValue}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n  );\r\n}\r\n\r\n","export interface ChevronLeftProps {\r\n\r\n}\r\n\r\nconst ChevronLeft: React.FC<ChevronLeftProps> = () => {\r\n  return (\r\n    <svg id=\"i-chevron-left\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"100%\" height=\"100%\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <path d=\"M20 30 L8 16 20 2\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default ChevronLeft;","export interface ChevronRightProps {\r\n\r\n}\r\n\r\nconst ChevronRight: React.FC<ChevronRightProps> = () => {\r\n  return (\r\n    <svg id=\"i-chevron-right\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"100%\" height=\"100%\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <path d=\"M12 30 L24 16 12 2\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default ChevronRight;","export interface CloseIconProps {\r\n  strokeWidth?: number,\r\n  strokeColor?: string,\r\n}\r\n\r\nconst CloseIcon: React.FC<CloseIconProps> = ({ strokeWidth = 2, strokeColor = 'currentcolor' }) => {\r\n  return (\r\n    <svg id=\"i-close\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"100%\" height=\"100%\" fill=\"none\" stroke={strokeColor} strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={strokeWidth}>\r\n      <path d=\"M2 30 L30 2 M30 30 L2 2\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default CloseIcon;","export interface CartIconProps {\r\n  width?: number,\r\n  height?: number,\r\n  strokeColor?: string,\r\n}\r\n\r\nconst CartIcon: React.FC<CartIconProps> = ({ width = 32, height = 32, strokeColor = 'currentcolor' }) => {\r\n  return (\r\n    <svg id=\"i-cart\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width={width} height={height} fill=\"none\" stroke={strokeColor} strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <path d=\"M6 6 L30 6 27 19 9 19 M27 23 L10 23 5 2 2 2\" />\r\n      <circle cx=\"25\" cy=\"27\" r=\"2\" />\r\n      <circle cx=\"12\" cy=\"27\" r=\"2\" />\r\n    </svg>);\r\n}\r\n\r\nexport default CartIcon;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cartIcon\":\"CartBtn_cartIcon__3blns\",\"cartItemsCounterWrapper\":\"CartBtn_cartItemsCounterWrapper__p90ED\",\"cartItemsCounter\":\"CartBtn_cartItemsCounter__39j5A\",\"cartIconWrapper\":\"CartBtn_cartIconWrapper__1CpTM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"slider\":\"Slider_slider__2Tvlp\",\"pagesContainer\":\"Slider_pagesContainer__25ENw\"};","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\nimport { sorting } from '../../utils/sorting';\r\nimport { Promotions, ProductModel } from '../../types/types';\r\n\r\nexport type filtersT = {\r\n  category: string,\r\n  promotion: 'true' | '',\r\n}\r\n\r\nexport type filterType<Type extends filtersT> = keyof Type;\r\n\r\ntype setFiltersType<Type extends filtersT> = {\r\n  filter: filterType<Type>;\r\n  value: string,\r\n}\r\n\r\ntype filtersType<Type extends filtersT> = {\r\n  [prop in keyof Type]: string;\r\n}\r\n\r\ninterface catalogState {\r\n  filteredProducts: ProductModel[],\r\n  filters: filtersType<filtersT>,\r\n  showFilterOptions: boolean,\r\n  showCategoriesPanel: boolean,\r\n}\r\n\r\nconst initialState: catalogState = {\r\n  filteredProducts: [],\r\n  filters: {\r\n    category: '',\r\n    promotion: '',\r\n  },\r\n  showFilterOptions: false,\r\n  showCategoriesPanel: false,\r\n}\r\n\r\n\r\nexport const catalogSlice = createSlice({\r\n  name: 'catalog',\r\n  initialState,\r\n  reducers: {\r\n    setShowFilterOptions: (state) => {\r\n      state.showFilterOptions = !state.showFilterOptions;\r\n    },\r\n    setShowCategoriesPanel: (state) => {\r\n      state.showCategoriesPanel = !state.showCategoriesPanel;\r\n    },\r\n    setFilters: (state, action: PayloadAction<setFiltersType<filtersT>>) => {\r\n      state.filters[action.payload.filter] = action.payload.value;\r\n    },\r\n    sortProducts: (state, action) => {\r\n      state.filteredProducts = sorting(state.filteredProducts, action.payload);\r\n    },\r\n    filterProducts: (state, action: PayloadAction<{ products: ProductModel[], promotions: Promotions }>) => {\r\n      const promCategories = Object.keys(action.payload.promotions.category);\r\n      const tempArr: ProductModel[] = [];\r\n      action.payload.products.reduce((acc, item) => {\r\n        let flag = true;\r\n        const newItem = { ...item };\r\n        if (state.filters.promotion) {\r\n          flag = promCategories.includes(item.category);\r\n          newItem.discount = action.payload.promotions.category[item.category];\r\n        }\r\n        if (state.filters.category) {\r\n          flag = item.category === state.filters.category;\r\n        }\r\n        if (flag) tempArr.push(newItem);\r\n        return acc++;\r\n      }, 0);\r\n      state.filteredProducts = tempArr;\r\n    }\r\n  },\r\n});\r\n\r\n\r\nexport const selectShowFilterOptions = (state: RootState) => state.catalog.showFilterOptions;\r\nexport const selectShowCategoriesPanel = (state: RootState) => state.catalog.showCategoriesPanel;\r\nexport const selectFilteredProducts = (state: RootState) => state.catalog.filteredProducts;\r\nexport const selectFilters = (state: RootState) => state.catalog.filters;\r\n\r\n\r\nexport const { setShowFilterOptions, setShowCategoriesPanel, setFilters, sortProducts, filterProducts } = catalogSlice.actions;\r\nexport default catalogSlice.reducer;\r\n","import { ProductModel } from '../types/types';\r\n\r\nexport const sorting = (state: ProductModel[], action: string) => {\r\n\r\n  switch (action) {\r\n    case 'lower-price':\r\n      state = state.sort((a, b) => +a.price - +b.price);\r\n      break;\r\n    case 'higher-price':\r\n      state = state.sort((a, b) => +b.price - +a.price);\r\n      break;\r\n    default:\r\n      state = state.sort((a, b) => {\r\n        let titleA = a.title.toUpperCase();\r\n        let titleB = b.title.toUpperCase();\r\n        if (titleA < titleB) {\r\n          return -1;\r\n        }\r\n        if (titleA > titleB) {\r\n          return 1;\r\n        }\r\n        return 0;\r\n      });\r\n  }\r\n  return state;\r\n}","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport type { RootState } from '../../store/store';\r\n\r\ninterface ProductDetailsState {\r\n  showSidePanel: boolean,\r\n  sidePanelContent: {\r\n    title: string,\r\n    subtitle: string | null,\r\n    body: string,\r\n  },\r\n}\r\n\r\nconst initialState: ProductDetailsState = {\r\n  showSidePanel: false,\r\n  sidePanelContent: {\r\n    title: '',\r\n    subtitle: '',\r\n    body: '',\r\n  },\r\n}\r\n\r\nexport const productDetailsSlice = createSlice({\r\n  name: 'productDetails',\r\n  initialState,\r\n  reducers: {\r\n    setShowSidePanel: (state) => {\r\n      state.showSidePanel = !state.showSidePanel;\r\n    },\r\n    setSidePanelContent: (state, action: PayloadAction<any>) => {\r\n      state.sidePanelContent = action.payload;\r\n    }\r\n  },\r\n});\r\n\r\nexport const selectShowSidePanel = (state: RootState) => state.productDetails.showSidePanel;\r\nexport const selectSidePanelContent = (state: RootState) => state.productDetails.sidePanelContent;\r\n\r\nexport const { setShowSidePanel, setSidePanelContent } = productDetailsSlice.actions;\r\n\r\nexport default productDetailsSlice.reducer;\r\n","export interface SearchIconProps {\r\n\r\n}\r\n\r\nconst SearchIcon: React.FC<SearchIconProps> = () => {\r\n  return (\r\n    <svg id=\"i-search\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"100%\" height=\"100%\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <circle cx=\"14\" cy=\"14\" r=\"12\" />\r\n      <path d=\"M23 23 L30 30\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default SearchIcon;","import { useEffect, useLayoutEffect, useRef } from 'react';\r\nimport { useAppSelector, useAppDispatch } from '../../types/hooks';\r\nimport { Link } from 'react-router-dom';\r\nimport { useGetEbooksQuery } from '../../services/apiSlice';\r\nimport { selectSearchKey, selectSearchResults, selectShowSearchBar } from './searcherSlice';\r\nimport { setShowSearchBar, setSearchKey, setSearchResults } from './searcherSlice';\r\nimport { SearchResultsPayload } from './searcherSlice';\r\n\r\nimport SearchIcon from '../../assets/svg/SearchIcon';\r\nimport CloseIcon from '../../assets/svg/CloseIcon';\r\nimport styles from './SearchBar.module.scss';\r\n\r\nconst { closeIcon, ellipsis, searchBar, searchBtn, searchInput, searchInputLabel, searchResultsList, showSearchBar, underText, wrapper } = styles;\r\n\r\nconst SearchBar: React.FC = () => {\r\n  const { data: ebooks = [] } = useGetEbooksQuery('');\r\n  const dispatch = useAppDispatch();\r\n  const searchKey = useAppSelector(selectSearchKey);\r\n  const searchResults = useAppSelector(selectSearchResults);\r\n  const isVisible = useAppSelector(selectShowSearchBar);\r\n  const listElRef = useRef<HTMLAnchorElement[]>([]);\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n  const dropdownRef = useRef<HTMLUListElement>(null);\r\n  const labelRef = useRef<HTMLLabelElement>(null);\r\n\r\n  let listCursor = -1;\r\n\r\n  //function search elements by user key and create array of data for router Links\r\n  const searchProducts = () => {\r\n    const authors = [];\r\n    const titles = [];\r\n\r\n    for (const ebook of ebooks) {\r\n      if (ebook.author.firstName.toLowerCase().includes(searchKey.toLowerCase()) ||\r\n        ebook.author.lastName.toLowerCase().includes(searchKey.toLowerCase())) {\r\n        authors.push({\r\n          linkPathName: `/catalog/${ebook.author.firstName}-${ebook.author.lastName}`,\r\n          linkContent: { title: null, authorFirstName: ebook.author.firstName, authorLastName: ebook.author.lastName },\r\n          linkState: {\r\n            authorFirstName: ebook.author.firstName,\r\n            authorLastName: ebook.author.lastName\r\n          }\r\n        })\r\n      }\r\n\r\n      if (ebook.title.toLowerCase().includes(searchKey.toLowerCase())) {\r\n        titles.push({\r\n          linkPathName: `/ebook/${ebook.title}-${ebook.author.firstName}-${ebook.author.lastName}`,\r\n          linkContent: { title: ebook.title, authorFirstName: ebook.author.firstName, authorLastName: ebook.author.lastName },\r\n          linkState: {\r\n            title: ebook.title,\r\n            authorFirstName: ebook.author.firstName,\r\n            authorLastName: ebook.author.lastName\r\n          }\r\n        })\r\n      }\r\n    }\r\n\r\n    return [...authors, ...titles];\r\n  }\r\n\r\n  useLayoutEffect(() => {\r\n    if (labelRef.current && dropdownRef.current) {\r\n      const inputPosition = labelRef.current!.offsetLeft;\r\n      dropdownRef.current!.style!.left = `${inputPosition}px`;\r\n    }\r\n  });\r\n\r\n  //searching with debounce and avoid empty key searching, \r\n  useEffect((): any => {\r\n    if (!searchKey) {\r\n      return dispatch(setSearchResults([]));\r\n    }\r\n\r\n    let timer = setTimeout(() => {\r\n      dispatch(setSearchResults(searchProducts()));\r\n    }, 500);\r\n\r\n    window.addEventListener('click', () => { dispatch(setSearchResults([])) }, { once: true });\r\n    return () => clearTimeout(timer);\r\n  }, [searchKey, dispatch]);\r\n\r\n  //Handling arrow key navigation through list\r\n  const onKeyHandle = (e: any) => {\r\n    if (e.keyCode !== 40 && e.keyCode !== 38) return;\r\n    if (e.keyCode === 40 && listCursor < searchResults.length - 1) listCursor++;\r\n    if (e.keyCode === 38 && listCursor > 0) listCursor--;\r\n    if (searchResults.length > 0) listElRef.current[listCursor]?.focus();\r\n    e.preventDefault();\r\n  };\r\n\r\n  //Handling mouse navigation with remembering actual focused item for keyboard navigation\r\n  const onMouseEnterHandle = (e: any) => {\r\n    e.currentTarget.focus();\r\n    listCursor = listElRef.current.indexOf(e.currentTarget);\r\n  };\r\n\r\n  const onMouseLeaveHandle = () => {\r\n    listElRef.current[listCursor]?.blur();\r\n    inputRef.current?.focus();\r\n    listCursor = -1;\r\n  }\r\n\r\n  return (\r\n    <div className={`${searchBar} ${isVisible ? showSearchBar : null}`} onKeyDown={onKeyHandle}\r\n      tabIndex={-1}>\r\n      <div className={wrapper}>\r\n\r\n        <div className={searchBtn}>\r\n          <SearchIcon />\r\n        </div>\r\n        <label className={searchInputLabel} ref={labelRef}>\r\n          <input className={searchInput} ref={inputRef} type=\"text\" autoComplete='off' placeholder=\"Szukaj\" name=\"searchField\" onChange={(e) => { dispatch(setSearchKey(e.target.value)) }} />\r\n        </label>\r\n        <button className={closeIcon} onClick={() => { dispatch(setShowSearchBar()) }}>\r\n          <CloseIcon />\r\n        </button>\r\n\r\n        {/*---Search Dropdown--- */}\r\n        {searchResults.length > 0 ?\r\n          <ul className={searchResultsList} ref={dropdownRef} onMouseLeave={onMouseLeaveHandle}>\r\n\r\n            {searchResults.map((item: SearchResultsPayload, index: number) => (\r\n              <li key={index} >\r\n                <Link to={{\r\n                  pathname: item.linkPathName,\r\n                  state: { ...item.linkState }\r\n                }}\r\n                  ref={(e: any) => listElRef.current[index] = e}\r\n                  onMouseEnter={onMouseEnterHandle}\r\n                >\r\n                  {item.linkContent.title ? <div className={ellipsis}>{item.linkContent.title}</div> : null}\r\n                  {<div className={`${item.linkContent.title ? underText : null}`}>{`${item.linkContent.authorFirstName} ${item.linkContent.authorLastName}`}</div>}\r\n                </Link>\r\n              </li>)\r\n            )}\r\n          </ul> : null}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBar;","import React from 'react';\r\nimport styles from './HeaderItem.module.scss';\r\n\r\nconst { itemWrapper } = styles;\r\n\r\ninterface HeaderItemProps {\r\n  classes: string[];\r\n  onClick?: () => void;\r\n}\r\n\r\nconst HeaderItem: React.FC<HeaderItemProps> = ({ classes = [], onClick, children }) => {\r\n  return <div className={`${itemWrapper} ${classes}`} onClick={onClick}>\r\n    {children}\r\n  </div>;\r\n}\r\n\r\nexport default HeaderItem;","export interface MenuIconProps {\r\n\r\n}\r\n\r\nconst MenuIcon: React.FC<MenuIconProps> = () => {\r\n  return (\r\n    <svg id=\"i-menu\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <path d=\"M4 8 L28 8 M4 16 L28 16 M4 24 L28 24\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default MenuIcon;","import { useAppDispatch } from '../../types/hooks';\r\nimport { showNavSidePanel } from './navigationSlice';\r\n\r\nimport MenuIcon from '../../assets/svg/MenuIcon';\r\n\r\nfunction NavBtn() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <button onClick={() => dispatch(showNavSidePanel())}>\r\n      <MenuIcon />\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default NavBtn;","import HeaderItem from '../../components/HeaderItem/HeaderItem';\r\nimport NavBtn from '../navigation/NavBtn';\r\nimport styles from './AppHeader.module.scss';\r\nconst { navItemWrapper } = styles;\r\n\r\nfunction NavItem() {\r\n\r\n  return (\r\n    <HeaderItem classes={[navItemWrapper]}>\r\n      <NavBtn />\r\n    </HeaderItem>\r\n  );\r\n}\r\n\r\nexport default NavItem;","import { Link } from 'react-router-dom';\r\n\r\nimport styles from './Logo.module.scss'\r\n\r\nconst { logo } = styles;\r\n\r\nfunction Logo() {\r\n  return (\r\n    <Link className={logo} to='/'>\r\n      Wob&shy;Clone\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default Logo;","import HeaderItem from '../../components/HeaderItem/HeaderItem';\r\nimport Logo from '../../components/logo/Logo';\r\nimport styles from './AppHeader.module.scss';\r\nconst { logoItemWrapper } = styles;\r\n\r\nfunction LogoItem() {\r\n\r\n  return (\r\n    <HeaderItem classes={[logoItemWrapper]}>\r\n      <Logo />\r\n    </HeaderItem>\r\n  );\r\n}\r\n\r\nexport default LogoItem;","import { useAppDispatch } from '../../types/hooks';\r\nimport { setShowSearchBar } from './searcherSlice';\r\n\r\nimport SearchIcon from '../../assets/svg/SearchIcon';\r\nimport styles from './SearchBtn.module.scss';\r\n\r\nconst { searchBtn } = styles;\r\n\r\nfunction SearchBtn() {\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <div className={searchBtn} onClick={() => { dispatch(setShowSearchBar()) }}>\r\n      <SearchIcon />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBtn;","import HeaderItem from '../../components/HeaderItem/HeaderItem';\r\nimport SearchBtn from '../searcher/SearchBtn';\r\nimport styles from './AppHeader.module.scss';\r\nconst { searchItemWrapper } = styles;\r\n\r\nfunction NavItem() {\r\n\r\n  return (\r\n    <HeaderItem classes={[searchItemWrapper]}>\r\n      <SearchBtn />\r\n    </HeaderItem>\r\n  );\r\n}\r\n\r\nexport default NavItem;","export interface UserIconProps {\r\n\r\n}\r\n\r\nconst UserIcon: React.FC<UserIconProps> = () => {\r\n  return (\r\n    <svg id=\"i-user\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" width=\"32\" height=\"32\" fill=\"none\" stroke=\"currentcolor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\">\r\n      <path d=\"M22 11 C22 16 19 20 16 20 13 20 10 16 10 11 10 6 12 3 16 3 20 3 22 6 22 11 Z M4 30 L28 30 C28 21 22 20 16 20 10 20 4 21 4 30 Z\" />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default UserIcon;","import { Link } from 'react-router-dom';\r\n\r\nimport UserIcon from '../../assets/svg/UserIcon';\r\n\r\nfunction UserBtn() {\r\n  return (\r\n    <Link to=\"/sign-page\" >\r\n      <UserIcon />\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default UserBtn;","import HeaderItem from '../../components/HeaderItem/HeaderItem';\r\nimport UserBtn from '../user/UserBtn';\r\nimport styles from './AppHeader.module.scss';\r\nconst { userItemWrapper } = styles;\r\n\r\nfunction NavItem() {\r\n\r\n  return (\r\n    <HeaderItem classes={[userItemWrapper]}>\r\n      <UserBtn />\r\n    </HeaderItem>\r\n  );\r\n}\r\n\r\nexport default NavItem;","import { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport CartContext from '../../contexts/cartContext';\r\n\r\nimport CartIcon from '../../assets/svg/CartIcon';\r\nimport styles from './CartBtn.module.scss'\r\n\r\nconst { cartItemsCounter, cartItemsCounterWrapper, cartIcon } = styles;\r\n\r\nfunction CartBtn() {\r\n  const cartCtx = useContext(CartContext);\r\n\r\n  return (\r\n    <Link to={'/cart'} className={cartIcon}>\r\n      <CartIcon />\r\n      <div className={cartItemsCounterWrapper}>\r\n        <span className={cartItemsCounter}>{cartCtx.productsInCart.length}</span>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default CartBtn;","import HeaderItem from '../../components/HeaderItem/HeaderItem';\r\nimport CartBtn from '../cart/CartBtn';\r\nimport styles from './AppHeader.module.scss';\r\nconst { cartItemWrapper } = styles;\r\n\r\nfunction CartItem() {\r\n\r\n  return (\r\n    <HeaderItem classes={[cartItemWrapper]}>\r\n      <CartBtn />\r\n    </HeaderItem>\r\n  );\r\n}\r\n\r\nexport default CartItem;","import { Link } from 'react-router-dom';\r\nimport useWidth from '../../hooks/useWidth';\r\nimport { MQBreakpoints } from '../../constants/constants';\r\nimport ChevronRight from '../../assets/svg/ChevronRight';\r\nimport styles from './NavItem.module.scss';\r\n\r\nconst { arrow, content, navComponent, opposite } = styles;\r\n\r\ntype navItemType = {\r\n  urlTag: string,\r\n  tag?: string,\r\n  extend?: boolean,\r\n  onClick: () => void,\r\n  onClickDesktop?: () => void,\r\n}\r\n\r\nexport const NavItem: React.FC<navItemType> = ({ urlTag, tag = urlTag, extend, onClick, onClickDesktop }) => {\r\n  const { currWidth } = useWidth();\r\n  const callback = currWidth < MQBreakpoints.DESKTOP ? onClick : onClickDesktop;\r\n\r\n  return (\r\n    <>\r\n      {\r\n        extend ?\r\n          <div\r\n            className={`${navComponent} ${opposite}`}\r\n            onClick={callback}\r\n          >\r\n            <div className={content}>{urlTag}</div>\r\n            <span className={arrow}><ChevronRight /></span>\r\n          </div>\r\n          :\r\n          <Link\r\n            to={{\r\n              pathname: '/catalog/' + urlTag,\r\n              state: { tag }\r\n            }}\r\n            className={navComponent}\r\n            onClick={callback}\r\n          >\r\n            <div className={content}>{urlTag}</div>\r\n          </Link>\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\n","import styles from './Backdrop.module.scss';\r\n\r\nconst { backdrop } = styles;\r\n\r\nexport interface BackdropProps {\r\n\r\n}\r\n\r\nconst Backdrop: React.FC<BackdropProps> = () => {\r\n  return (<div className={backdrop}>\r\n\r\n  </div>);\r\n}\r\n\r\nexport default Backdrop;","import { useAppSelector, useAppDispatch } from '../../types/hooks';\r\n\r\nimport { showNavSidePanel, showCatSidePanel } from './navigationSlice';\r\nimport { selectIsVisibleNavSP, selectIsVisibleCatSP } from './navigationSlice';\r\n\r\nimport { NavItem } from './NavItem';\r\nimport Backdrop from '../../components/backdrop/Backdrop';\r\n\r\nimport CloseIcon from '../../assets/svg/CloseIcon';\r\nimport styles from './NavPanel.module.scss';\r\n\r\nconst { header, linksContainer, productType, sidePanel, showSidePanel, closeIcon } = styles;\r\n\r\nfunction NavPanel() {\r\n  const isVisible = useAppSelector(selectIsVisibleNavSP);\r\n  const isVisibleCat = useAppSelector(selectIsVisibleCatSP);\r\n  const dispatch = useAppDispatch();\r\n\r\n  return (\r\n    <>\r\n      {isVisible ? <Backdrop /> : null}\r\n      <nav className={`${sidePanel} ${isVisible ? showSidePanel : null}`} >\r\n        <div className={header}>\r\n          <div className={productType}>Ebooki</div>\r\n          <div className={closeIcon} onClick={() => dispatch(showNavSidePanel())}>\r\n            <CloseIcon />\r\n          </div>\r\n        </div>\r\n        <div className={`${linksContainer}`}>\r\n          <NavItem urlTag=\"Kategorie\" extend={true}\r\n            onClick={() => { dispatch(showCatSidePanel()); dispatch(showNavSidePanel()) }}\r\n            onClickDesktop={() => { return isVisibleCat ? null : dispatch(showCatSidePanel()) }}\r\n          />\r\n          <NavItem urlTag=\"Wszystkie Ebooki\" tag='' onClick={() => { dispatch(showNavSidePanel()) }} />\r\n          <NavItem urlTag=\"Promocje\" onClick={() => { dispatch(showNavSidePanel()) }} />\r\n          <NavItem urlTag=\"Nowości\" onClick={() => { dispatch(showNavSidePanel()) }} />\r\n          <NavItem urlTag=\"Top 100\" onClick={() => { dispatch(showNavSidePanel()) }} />\r\n          <NavItem urlTag=\"Darmowe ebooki\" onClick={() => { dispatch(showNavSidePanel()) }} />\r\n        </div>\r\n      </nav>\r\n\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NavPanel;\r\n","import { useEffect } from 'react';\r\nimport { showCatSidePanel } from './navigationSlice';\r\nimport { selectIsVisibleCatSP } from './navigationSlice';\r\nimport { useGetCategoriesQuery } from '../../services/apiSlice';\r\nimport useWidth from '../../hooks/useWidth';\r\nimport { MQBreakpoints } from '../../constants/constants';\r\nimport { useAppSelector, useAppDispatch } from '../../types/hooks';\r\nimport { ProductCategories } from '../../types/types';\r\n\r\nimport ChevronLeft from '../../assets/svg/ChevronLeft';\r\nimport { NavItem } from './NavItem';\r\nimport Backdrop from '../../components/backdrop/Backdrop';\r\n\r\nimport styles from './CategoryPanel.module.scss';\r\nconst { categorySidePanel, linksContainer, showSidePanel, headElement, content, arrowLeft } = styles;\r\n\r\nfunction CategoryPanel() {\r\n  const { data: categoryData } = useGetCategoriesQuery('');\r\n  const isVisibleCat = useAppSelector(selectIsVisibleCatSP);\r\n  const dispatch = useAppDispatch();\r\n  const { currWidth } = useWidth();\r\n\r\n  useEffect(() => {\r\n    if (isVisibleCat && currWidth >= MQBreakpoints.DESKTOP) window.addEventListener('click', () => dispatch(showCatSidePanel()), { once: true });\r\n  }, [isVisibleCat])\r\n\r\n  return (\r\n    <>\r\n      {isVisibleCat && currWidth < MQBreakpoints.DESKTOP ? <Backdrop /> : null}\r\n      <div className={`${categorySidePanel} ${isVisibleCat ? showSidePanel : null}`}>\r\n        <div className={headElement} onClick={() => dispatch(showCatSidePanel())}>\r\n          <div className={content}><span className={arrowLeft}><ChevronLeft /></span> Powrót</div>\r\n        </div>\r\n        <div className={linksContainer}>\r\n          {categoryData ? categoryData.map((item) => { return <NavItem key={item.category} urlTag={item.category} onClick={() => dispatch(showCatSidePanel())} /> }) : null}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CategoryPanel;","import SearchBar from '../searcher/SearchBar';\r\nimport NavItem from './NavItem';\r\nimport LogoItem from './LogoItem';\r\nimport SearchItem from './SearchItem';\r\nimport UserItem from './UserItem';\r\nimport CartItem from './CartItem';\r\nimport NavPanel from '../navigation/NavPanel';\r\nimport CategoryPanel from '../navigation/CategoryPanel';\r\n\r\nimport styles from './AppHeader.module.scss';\r\nconst { header } = styles;\r\n\r\nfunction AppHeader() {\r\n\r\n  return (\r\n    <header className={header}>\r\n      <NavItem />\r\n      <LogoItem />\r\n      <SearchItem />\r\n      <UserItem />\r\n      <CartItem />\r\n      <NavPanel />\r\n      <CategoryPanel />\r\n      <SearchBar />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default AppHeader;","import AppHeader from \"../../features/appHeader/AppHeader\";\r\nimport styles from './MainLayout.module.scss';\r\n\r\nconst { mainContent } = styles;\r\n\r\nconst MainLayout: React.FC = ({ children }) => {\r\n  return (\r\n    <>\r\n      <AppHeader />\r\n      <main className={mainContent}>\r\n        {children}\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MainLayout;","export default __webpack_public_path__ + \"static/media/blue-butterfly-small.25ddfdf8.jpg\";","export default __webpack_public_path__ + \"static/media/blue-butterfly-medium.8a5789da.jpg\";","export default __webpack_public_path__ + \"static/media/brain-small.b8b0b789.jpg\";","export default __webpack_public_path__ + \"static/media/brain-medium.b3dd3229.jpg\";","export default __webpack_public_path__ + \"static/media/clover-small.e1f0c094.jpg\";","export default __webpack_public_path__ + \"static/media/clover-medium.a9b14e6c.jpg\";","export default __webpack_public_path__ + \"static/media/desk-assets-small.869a7683.jpg\";","export default __webpack_public_path__ + \"static/media/desk-assets-medium.aa55326a.jpg\";","export default __webpack_public_path__ + \"static/media/tribal-skull-small.7d91a3a7.jpg\";","export default __webpack_public_path__ + \"static/media/tribal-skull-medium.896a1919.jpg\";","import butterflySmall from './images/blue-butterfly-small.jpg';\r\nimport butterflyMedium from './images/blue-butterfly-medium.jpg';\r\nimport brainSmall from './images/brain-small.jpg';\r\nimport brainMedium from './images/brain-medium.jpg';\r\nimport cloverSmall from './images/clover-small.jpg';\r\nimport cloverMedium from './images/clover-medium.jpg';\r\nimport deskAssetsSmall from './images/desk-assets-small.jpg';\r\nimport deskAssetsMedium from './images/desk-assets-medium.jpg';\r\nimport tribalSkullSmall from './images/tribal-skull-small.jpg';\r\nimport tribalSkullMedium from './images/tribal-skull-medium.jpg';\r\n\r\ninterface imgSizesSrc {\r\n  small: string,\r\n  medium: string,\r\n}\r\n\r\nexport const covers: Map<string, imgSizesSrc> = new Map([\r\n  ['blue-butterfly', { small: butterflySmall, medium: butterflyMedium }],\r\n  ['brain', { small: brainSmall, medium: brainMedium }],\r\n  ['clover', { small: cloverSmall, medium: cloverMedium }],\r\n  ['desk-assets', { small: deskAssetsSmall, medium: deskAssetsMedium }],\r\n  ['tribal-skull', { small: tribalSkullSmall, medium: tribalSkullMedium }],\r\n]);\r\nexport default covers;\r\n\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport CartContext from '../../contexts/cartContext';\r\nimport { ProductModel } from '../../types/types';\r\nimport styles from './ProductCard.module.scss';\r\nimport covers from '../../assets/images';\r\nimport CartIcon from '../../assets/svg/CartIcon';\r\n\r\nconst { card, cardCover, cardFull, picture, price, productDetails, title } = styles;\r\nconst { toCartBtn } = styles;\r\n\r\ntype cardStyleVersionType = 'full' | 'cover';\r\n\r\ninterface ProductCardType {\r\n  ebook: ProductModel,\r\n  cardStyleVersion: cardStyleVersionType,\r\n  itemWidth?: number,\r\n}\r\n\r\nconst ProductCard: React.FC<ProductCardType> = ({ ebook, cardStyleVersion, itemWidth }) => {\r\n  const cartCtx = useContext(CartContext);\r\n  const cover = covers.get(ebook.cover) || { small: '', medium: '' };\r\n\r\n  return (\r\n    <li className={`${card} ${cardStyleVersion === 'cover' ? cardCover : cardFull}`} style={{ width: `${itemWidth}px` }}>\r\n\r\n      <Link to={{\r\n        pathname: `/ebook/${ebook.title}-${ebook.author.firstName}-${ebook.author.lastName}`,\r\n        state: {\r\n          product: ebook,\r\n        }\r\n      }}>\r\n\r\n        <picture >\r\n          <source srcSet={`${cover.medium}`} media=\"(min-width: 1000px)\" />\r\n          <img src={`${cover.small}`} className={picture} alt=\"\" />\r\n        </picture>\r\n\r\n        <div className={productDetails}>\r\n          <h3 className={title}>{ebook.title}</h3>\r\n          <cite>{`${ebook.author.firstName} ${ebook.author.lastName}`}</cite>\r\n          <div className={price}>{`${ebook.price} zł`}</div>\r\n        </div>\r\n      </Link>\r\n\r\n      {/* --- BUTTON ADD TO CART ---  */}\r\n      <button className={toCartBtn} onClick={() => cartCtx.addToCart(ebook)}>\r\n        <CartIcon width={26} height={26} strokeColor='white' />\r\n      </button>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ProductCard;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemWrapper\":\"HeaderItem_itemWrapper__3wSs0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Logo_logo__1vE0K\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBtn\":\"SearchBtn_searchBtn__14ctc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Backdrop_backdrop__YzB_0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContent\":\"MainLayout_mainContent__19pOM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemList\":\"SliderPage_itemList__Izzcq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1FJVQ\"};","import styles from './SliderPage.module.scss'\r\n\r\nconst { itemList } = styles;\r\n\r\nconst SliderPage: React.FC<{ slidePage: number }> = ({ slidePage, children }) => {\r\n  return (\r\n    <ul className={itemList} style={{ transform: `translateX(${slidePage * -100}%)` }}>\r\n      {children}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default SliderPage;","import React from 'react';\r\nimport ChevronLeft from '../../assets/svg/ChevronLeft';\r\nimport ChevronRight from '../../assets/svg/ChevronRight';\r\n\r\nimport styles from './Pagination.module.scss';\r\nconst { pagesIndicators, pageIndicator, active, arrow, leftArr, rightArr } = styles;\r\n\r\ninterface IPagination {\r\n  pagesArray: JSX.Element[][],\r\n  slidePage: number,\r\n  turnPage: (count: number) => void,\r\n}\r\n\r\nexport const Pagination: React.FC<IPagination> = ({ pagesArray, slidePage, turnPage }) => {\r\n  return (\r\n    <>\r\n      <ul className={pagesIndicators}>\r\n        {pagesArray.map((item, index) => {\r\n          return <li\r\n            key={Math.random() + index}\r\n            className={`${pageIndicator} ${slidePage === index ? active : null}`}\r\n            onClick={() => turnPage(index + 100)} />\r\n        })}\r\n      </ul>\r\n\r\n      <div className={`${arrow} ${leftArr} `} onClick={() => turnPage(-1)}><ChevronLeft /></div>\r\n      <div className={`${arrow} ${rightArr}`} onClick={() => turnPage(1)}><ChevronRight /></div>\r\n    </>\r\n  );\r\n}\r\n","import { useState, useEffect, useCallback, useRef } from 'react';\r\nimport useWidth from '../../hooks/useWidth';\r\nimport { ProductModel } from '../../types/types';\r\nimport { MQBreakpoints } from '../../constants/constants';\r\n\r\nimport ProductCard from '../../components/productCard/ProductCard';\r\nimport SliderPage from './SliderPage';\r\nimport { Pagination } from './Pagination';\r\n\r\nimport styles from './Slider.module.scss';\r\n\r\nconst { slider, pagesContainer } = styles;\r\n\r\ntype dataType = ProductModel[];\r\n\r\ninterface sliderOptions {\r\n  itemsCount: number;\r\n  data: dataType | undefined;\r\n}\r\n\r\nexport const Slider: React.FC<sliderOptions> = ({ itemsCount, data }) => {\r\n  const [slidePage, setSlidePage] = useState(0);\r\n  const [pagesArray, setPagesArray] = useState<JSX.Element[][]>([]);\r\n\r\n  const pagesContRef = useRef<HTMLDivElement>(null);\r\n  const { currWidth } = useWidth();\r\n\r\n  // function for changing slider pages\r\n  const turnPage = (count: number) => {\r\n    if (count >= 100) {\r\n      setSlidePage(count - 100);\r\n    } else if (slidePage === 0 && count < 0) {\r\n      setSlidePage(pagesArray.length - 1);\r\n    } else if (slidePage === pagesArray.length - 1 && count !== -1) {\r\n      setSlidePage(0);\r\n    } else {\r\n      setSlidePage(prevCount => prevCount + count);\r\n    }\r\n  }\r\n\r\n  //function calculate and fill number of pages and it elements\r\n  const createPages = useCallback(() => {\r\n    const itemWidthDesktop = 150;\r\n    const itemWidthMobile = 90;\r\n    const itemWidth: number = currWidth > MQBreakpoints.DESKTOP ? itemWidthDesktop : itemWidthMobile;\r\n    let maxItemsCountPerPage = Math.floor(pagesContRef.current!.offsetWidth / itemWidth - 1);\r\n    let pagesCount = Math.ceil(itemsCount / maxItemsCountPerPage);\r\n    let itemsCounter = 0;\r\n    let pagesArr: JSX.Element[][] = [];\r\n\r\n    for (let i = 0; i < pagesCount; i++) {\r\n      const itemsForPageArr: JSX.Element[] = [];\r\n\r\n      for (let i = 0; i < maxItemsCountPerPage; i++) {\r\n        if (itemsCounter === itemsCount) break;\r\n        const [product] = (data as dataType).filter((item, index) => index === itemsCounter);\r\n        itemsForPageArr.push(<ProductCard key={product!.id} ebook={product} cardStyleVersion='cover' itemWidth={itemWidth} />);\r\n        itemsCounter++;\r\n      }\r\n\r\n      pagesArr.push(itemsForPageArr);\r\n    }\r\n    setPagesArray(pagesArr);\r\n  }, [data, currWidth, itemsCount]);\r\n\r\n  useEffect(() => {\r\n    createPages();\r\n  }, [createPages])\r\n\r\n  return (\r\n    <div className={slider}>\r\n      <div className={pagesContainer} ref={pagesContRef} >\r\n        {pagesArray.map((item, index) => { return <SliderPage key={index} slidePage={slidePage}>{item}</SliderPage> })}\r\n      </div>\r\n      <Pagination pagesArray={pagesArray} slidePage={slidePage} turnPage={turnPage} />\r\n    </div>\r\n  );\r\n}\r\n","import { useGetEbooksQuery } from '../../services/apiSlice';\r\nimport MainLayout from \"../../layouts/mainLayout/MainLayout\";\r\nimport { Slider } from \"../../features/slider/Slider\";\r\n\r\n\r\nconst MainPage = () => {\r\n  const { data: ebooksData, isError: ebooksIsError, isLoading: ebooksIsLoading } = useGetEbooksQuery('');\r\n\r\n  return (\r\n    <MainLayout>\r\n      {ebooksData ? <Slider itemsCount={12} data={ebooksData} /> : null}\r\n    </MainLayout>\r\n  );\r\n}\r\n\r\nexport default MainPage;","import { Route, Redirect } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\n\r\nexport interface PrivateRouteProps {\r\n  component: any,\r\n  path: string,\r\n}\r\n\r\nconst PrivateRoute: React.FC<PrivateRouteProps> = ({ component: Component, ...rest }) => {\r\n  const { currentUser } = useAuth();\r\n\r\n  return (<Route {...rest} render={props => currentUser ? <Component {...props} /> : <Redirect to=\"/sign-page\" />} />)\r\n}\r\n\r\nexport default PrivateRoute;","import styles from './LoadingSpinner.module.scss';\r\n\r\nconst { wrapper, spinner, dot } = styles;\r\n\r\nexport default function LoadingSpinner() {\r\n  const arr = new Array(12).fill('dot');\r\n  const dots = arr.map((item, index) => <div key={`${item}${index}`} className={`${dot} ${styles[`${item}${index + 1}`]}`}></div>)\r\n\r\n  return (\r\n    <div className={wrapper}>\r\n      <div className={spinner}>\r\n        {dots}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { lazy, Suspense } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\nimport { useGetEbooksQuery, useGetCategoriesQuery, useGetPromotionsQuery } from './services/apiSlice';\r\n\r\nimport MainPage from './pages/mainPage/MainPage';\r\nimport PrivateRoute from './components/privateRoute/PrivateRoute';\r\nimport LoadingSpinner from './components/loadingSpinner/LoadingSpinner';\r\nimport styles from './App.module.scss';\r\n\r\nconst ProductPage = lazy(() => import('./pages/productPage/ProductPage'));\r\nconst SignInPage = lazy(() => import('./pages/signInPage/SignInPage'));\r\nconst SignUpPage = lazy(() => import('./pages/signUpPage/SignUpPage'));\r\nconst CartPage = lazy(() => import('./pages/cartPage/CartPage'));\r\nconst PaymentPage = lazy(() => import('./pages/paymentPage/PaymentPage'));\r\nconst CatalogPage = lazy(() => import('./pages/catalogPage/CatalogPage'));\r\n\r\nfunction App() {\r\n  const { data: ebooksData, isError: ebooksIsError, isLoading: ebooksIsLoading } = useGetEbooksQuery('');\r\n  const { data: categoryData, isError: categoryIsError, isLoading: categoryIsLoading } = useGetCategoriesQuery('');\r\n  const { data: promotionsData, isError: promotionIsError, isLoading: promotionIsLoading } = useGetPromotionsQuery('');\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <Suspense fallback={<LoadingSpinner />}>\r\n        <div className={styles.app}>\r\n\r\n          <Switch>\r\n            <PrivateRoute path=\"/cart/payment\" component={PaymentPage} />\r\n            <Route path=\"/sign-in\"><SignInPage /></Route>\r\n            <Route path=\"/sign-up\"><SignUpPage /></Route>\r\n            <Route path=\"/cart\" exact><CartPage /></Route>\r\n            <Route path=\"/ebook/:tags\" exact render={(props) => <ProductPage {...props} />} />\r\n            <Route path=\"/catalog/:tag\" exact render={(props) => <CatalogPage {...props} />} />\r\n            <Route path=\"/\" ><MainPage /></Route>\r\n          </Switch>\r\n\r\n        </div>\r\n      </Suspense>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;","import { createSlice } from '@reduxjs/toolkit';\r\nimport { RootState } from './store';\r\n\r\ntype containerState = {\r\n  categories: { category: string, popular: string }[],\r\n}\r\n\r\nconst initialState: containerState = {\r\n  categories: [\r\n    {\r\n      category: '',\r\n      popular: ''\r\n    }\r\n  ],\r\n}\r\n\r\nexport const appSlice = createSlice({\r\n  name: 'container',\r\n  initialState,\r\n  reducers: {\r\n\r\n  },\r\n});\r\n\r\nexport const selectShowSearchBar = (state: RootState) => state.searcher.showSearchBar;\r\n\r\nexport default appSlice.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport { combineReducers } from 'redux';\r\n\r\n\r\nimport containerReducer from './appSlice';\r\nimport navigationReducer from '../features/navigation/navigationSlice';\r\nimport searcherReducer from '../features/searcher/searcherSlice';\r\nimport catalogReducer from '../features/catalog/catalogSlice';\r\nimport productDetailsReducer from '../features/productDetails/productDetailsSlice';\r\nimport appSliceReducer from './appSlice';\r\nimport { apiSlice } from '../services/apiSlice';\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  container: containerReducer,\r\n  navigation: navigationReducer,\r\n  searcher: searcherReducer,\r\n  catalog: catalogReducer,\r\n  productDetails: productDetailsReducer,\r\n  app: appSliceReducer,\r\n  [apiSlice.reducerPath]: apiSlice.reducer,\r\n})\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(apiSlice.middleware),\r\n})\r\n\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\nexport type AppDispatch = typeof store.dispatch;\r\n\r\nexport default store;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './store/store';\r\nimport { Provider } from 'react-redux';\r\nimport { CartContextProvider } from './contexts/cartContext';\r\nimport { AuthContextProvider } from './contexts/AuthContext';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextProvider>\r\n      <Provider store={store}>\r\n        <CartContextProvider>\r\n          <App />\r\n        </CartContextProvider>\r\n      </Provider>\r\n    </AuthContextProvider>,\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}